Return-Path: <linux-can-owner@vger.kernel.org>
X-Original-To: lists+linux-can@lfdr.de
Delivered-To: lists+linux-can@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id 6524E19810
	for <lists+linux-can@lfdr.de>; Fri, 10 May 2019 07:28:46 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1727030AbfEJF2p (ORCPT <rfc822;lists+linux-can@lfdr.de>);
        Fri, 10 May 2019 01:28:45 -0400
Received: from mail-eopbgr80071.outbound.protection.outlook.com ([40.107.8.71]:53838
        "EHLO EUR04-VI1-obe.outbound.protection.outlook.com"
        rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org with ESMTP
        id S1726284AbfEJF2p (ORCPT <rfc822;linux-can@vger.kernel.org>);
        Fri, 10 May 2019 01:28:45 -0400
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=nxp.com; s=selector2;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=ZV93IZ2ScB5jyvyUioWGMdwDQzb/PIcWW/YszX4DfMw=;
 b=jchdn+QJoi65S1155XgYqNmViJ5Gd+rgazZTQrIWwpFx4tTeD074tJ0Lc+w+NLDtj/ETILqjq1V45qpynKhQnAcBvZBrz1eTkiOprTwhSNPaBcoKVI2b99jakQkxee0/bqmdS/ybzX6fRjz22n93tp3QOmN2KN1OoE+GfukC+DA=
Received: from VI1PR0401MB2496.eurprd04.prod.outlook.com (10.168.65.10) by
 VI1PR0401MB2334.eurprd04.prod.outlook.com (10.169.133.149) with Microsoft
 SMTP Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1878.21; Fri, 10 May 2019 05:28:30 +0000
Received: from VI1PR0401MB2496.eurprd04.prod.outlook.com
 ([fe80::5e3:7122:7d0e:7fb7]) by VI1PR0401MB2496.eurprd04.prod.outlook.com
 ([fe80::5e3:7122:7d0e:7fb7%3]) with mapi id 15.20.1878.019; Fri, 10 May 2019
 05:28:30 +0000
From:   Pankaj Bansal <pankaj.bansal@nxp.com>
To:     Wolfgang Grandegger <wg@grandegger.com>,
        Marc Kleine-Budde <mkl@pengutronix.de>
CC:     "linux-can@vger.kernel.org" <linux-can@vger.kernel.org>,
        Pankaj Bansal <pankaj.bansal@nxp.com>
Subject: [PATCH 4/4] net: can: flexcan: can FD Format (FDF) changes
Thread-Topic: [PATCH 4/4] net: can: flexcan: can FD Format (FDF) changes
Thread-Index: AQHVBvEz7fUdpzlQPkyIsq+JUR5mYQ==
Date:   Fri, 10 May 2019 05:28:29 +0000
Message-ID: <20190510105137.27523-5-pankaj.bansal@nxp.com>
References: <20190510105137.27523-1-pankaj.bansal@nxp.com>
In-Reply-To: <20190510105137.27523-1-pankaj.bansal@nxp.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: TY1PR01CA0149.jpnprd01.prod.outlook.com
 (2603:1096:402:1::25) To VI1PR0401MB2496.eurprd04.prod.outlook.com
 (2603:10a6:800:56::10)
x-mailer: git-send-email 2.17.1
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=pankaj.bansal@nxp.com; 
x-ms-exchange-messagesentrepresentingtype: 1
x-originating-ip: [92.120.1.69]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 6f478374-8004-400c-1af2-08d6d50855bf
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0;PCL:0;RULEID:(2390118)(7020095)(4652040)(8989299)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(5600141)(711020)(4605104)(4618075)(2017052603328)(7193020);SRVR:VI1PR0401MB2334;
x-ms-traffictypediagnostic: VI1PR0401MB2334:
x-ms-exchange-purlcount: 1
x-microsoft-antispam-prvs: <VI1PR0401MB2334F73225221898725D7101F10C0@VI1PR0401MB2334.eurprd04.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:923;
x-forefront-prvs: 0033AAD26D
x-forefront-antispam-report: SFV:NSPM;SFS:(10009020)(136003)(396003)(346002)(366004)(39860400002)(376002)(189003)(199004)(66556008)(52116002)(66946007)(305945005)(99286004)(66476007)(66446008)(2906002)(7736002)(53936002)(6512007)(6306002)(6486002)(76176011)(50226002)(966005)(73956011)(256004)(6436002)(71200400001)(71190400001)(14444005)(66066001)(68736007)(54906003)(110136005)(486006)(186003)(5660300002)(14454004)(44832011)(102836004)(86362001)(6116002)(3846002)(64756008)(81156014)(478600001)(81166006)(30864003)(386003)(8936002)(316002)(6506007)(4326008)(1076003)(8676002)(11346002)(446003)(26005)(2616005)(36756003)(25786009)(476003);DIR:OUT;SFP:1101;SCL:1;SRVR:VI1PR0401MB2334;H:VI1PR0401MB2496.eurprd04.prod.outlook.com;FPR:;SPF:None;LANG:en;PTR:InfoNoRecords;MX:1;A:1;
received-spf: None (protection.outlook.com: nxp.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: eJST3oI4hSeCOPi382XGa2GPslzEzEBYs2xkMz8uOj+DaHKEurdXJMFuHO6JtPs0VQTg0CuhFonk8fd/aglXXXL5L4cJPnAw3Y9HLxon3bFdodazYaF9olJCBgdS9l6VUpycd0cN+TIlnqvpyn9kD9bAhj3rnG0EUlCMN7A8DTclTpvF4GGYsYSrKVZ0qiVTvQwP1eQVC800Kl4NPkqbIjEbPMxanriY6BBt2xKJME9b8kNQdUtBq6oibpMXYjP6tD/EQsFUq4oKSQ/b3qUeyjG514Pw8wjtB7TKCGd5o9xUDWnUJa0fUklp4cbaR374wTn3acz7W4WzW58p1uXvyHvNiFZnHNngyCe1KRMqUxvTH80dlxpSnVGy7PKTPWXrtpVTBf9iNCjZLmPveZjhGz0Oeqn6DutTEis9XJg1xq0=
Content-Type: text/plain; charset="utf-8"
Content-ID: <D82955138C8E61419F640DA6D3E7D29E@eurprd04.prod.outlook.com>
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: nxp.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 6f478374-8004-400c-1af2-08d6d50855bf
X-MS-Exchange-CrossTenant-originalarrivaltime: 10 May 2019 05:28:29.9770
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 686ea1d3-bc2b-4c6f-a92c-d99c5c301635
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-Transport-CrossTenantHeadersStamped: VI1PR0401MB2334
Sender: linux-can-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-can.vger.kernel.org>
X-Mailing-List: linux-can@vger.kernel.org

VGhlIG5ldyB2ZXJzaW9uIG9mIGZsZXhjYW4gc3VwcG9ydCBDQU4gRkQgbW9kZS4gVGhlIHNhbGll
bnQgZmVhdHVyZXMgb2YNCnRoaXMgdmVyc2lvbiBhcmU6DQotIEZ1bGwgaW1wbGVtZW50YXRpb24g
b2YgdGhlIENBTiB3aXRoIEZsZXhpYmxlIERhdGEgUmF0ZSAoQ0FOIEZEKSBwcm90b2NvbA0KICBz
cGVjaWZpY2F0aW9uIGFuZCBDQU4gcHJvdG9jb2wgc3BlY2lmaWNhdGlvbiwgVmVyc2lvbiAyLjAg
Qg0KCeKAoiBTdGFuZGFyZCBkYXRhIGZyYW1lcw0KCeKAoiBFeHRlbmRlZCBkYXRhIGZyYW1lcw0K
CeKAoiBaZXJvIHRvIHNpeHR5IGZvdXIgYnl0ZXMgZGF0YSBsZW5ndGgNCgnigKIgUHJvZ3JhbW1h
YmxlIGJpdCByYXRlDQoJ4oCiIENvbnRlbnQtcmVsYXRlZCBhZGRyZXNzaW5nDQotIEZsZXhpYmxl
IG1haWxib3hlcyBjb25maWd1cmFibGUgdG8gc3RvcmUgMCB0byA4LCAxNiwgMzIgb3IgNjQgYnl0
ZXMNCiAgZGF0YSBsZW5ndGgNCi0gQ29tcGxpYW50IHdpdGggdGhlIElTTyAxMTg5OC0xIHN0YW5k
YXJkDQotIFRyYW5zY2VpdmVyIERlbGF5IENvbXBlbnNhdGlvbiBmZWF0dXJlIHdoZW4gdHJhbnNt
aXR0aW5nIENBTiBGRCBtZXNzYWdlcw0KICBhdCBmYXN0ZXIgZGF0YSByYXRlcw0KDQpTaWduZWQt
b2ZmLWJ5OiBQYW5rYWogQmFuc2FsIDxwYW5rYWouYmFuc2FsQG54cC5jb20+DQotLS0NCiBkcml2
ZXJzL25ldC9jYW4vZmxleGNhbi5jIHwgMjM4ICsrKysrKysrKysrKysrKysrKysrKysrKysrKysr
Ky0tLS0tLQ0KIDEgZmlsZSBjaGFuZ2VkLCAyMDMgaW5zZXJ0aW9ucygrKSwgMzUgZGVsZXRpb25z
KC0pDQoNCmRpZmYgLS1naXQgYS9kcml2ZXJzL25ldC9jYW4vZmxleGNhbi5jIGIvZHJpdmVycy9u
ZXQvY2FuL2ZsZXhjYW4uYw0KaW5kZXggZDM4ZmQ3YzNjNmE1Li5mMGE2ZTJmMGNiYTkgMTAwNjQ0
DQotLS0gYS9kcml2ZXJzL25ldC9jYW4vZmxleGNhbi5jDQorKysgYi9kcml2ZXJzL25ldC9jYW4v
ZmxleGNhbi5jDQpAQCAtNTEsNiArNTEsNyBAQA0KICNkZWZpbmUgRkxFWENBTl9NQ1JfSVJNUQkJ
QklUKDE2KQ0KICNkZWZpbmUgRkxFWENBTl9NQ1JfTFBSSU9fRU4JCUJJVCgxMykNCiAjZGVmaW5l
IEZMRVhDQU5fTUNSX0FFTgkJCUJJVCgxMikNCisjZGVmaW5lIEZMRVhDQU5fTUNSX0ZERU4JCUJJ
VCgxMSkNCiAvKiBNQ1JfTUFYTUI6IG1heGltdW0gdXNlZCBNQnMgaXMgTUFYTUIgKyAxICovDQog
I2RlZmluZSBGTEVYQ0FOX01DUl9NQVhNQih4KQkJKCh4KSAmIDB4N2YpDQogI2RlZmluZSBGTEVY
Q0FOX01DUl9JREFNX0EJCSgweDAgPDwgOCkNCkBAIC0xMzYsNiArMTM3LDI5IEBADQogCSBGTEVY
Q0FOX0VTUl9CT0ZGX0lOVCB8IEZMRVhDQU5fRVNSX0VSUl9JTlQgfCBcDQogCSBGTEVYQ0FOX0VT
Ul9XQUtfSU5UKQ0KIA0KKy8qIEZMRVhDQU4gQ0FOIEJpdCBUaW1pbmcgUmVnaXN0ZXIgKENCVCkg
Yml0cyAqLw0KKyNkZWZpbmUgRkxFWENBTl9DQlRfQlRGCQkJQklUKDMxKQ0KKyNkZWZpbmUgRkxF
WENBTl9DQlRfRVBSRVNESVYoeCkJCSgoKHgpICYgMHgzZmYpIDw8IDIxKQ0KKyNkZWZpbmUgRkxF
WENBTl9DQlRfRVJKVyh4KQkJKCgoeCkgJiAweDBmKSA8PCAxNikNCisjZGVmaW5lIEZMRVhDQU5f
Q0JUX0VQUk9QU0VHKHgpCQkoKCh4KSAmIDB4M2YpIDw8IDEwKQ0KKyNkZWZpbmUgRkxFWENBTl9D
QlRfRVBTRUcxKHgpCQkoKCh4KSAmIDB4MWYpIDw8IDUpDQorI2RlZmluZSBGTEVYQ0FOX0NCVF9F
UFNFRzIoeCkJCSgoeCkgJiAweDFmKQ0KKw0KKy8qIEZMRVhDQU4gQ0FOIEZEIGNvbnRyb2wgUmVn
aXN0ZXIgKEZEQ1RSTCkgYml0cyAqLw0KKyNkZWZpbmUgRkxFWENBTl9GRENUUkxfRkRSQVRFCQlC
SVQoMzEpDQorI2RlZmluZSBGTEVYQ0FOX0ZEQ1RSTF9NQkRTUjEoeCkJKCgoeCkgJiAweDAzKSA8
PCAxOSkNCisjZGVmaW5lIEZMRVhDQU5fRkRDVFJMX01CRFNSMCh4KQkoKCh4KSAmIDB4MDMpIDw8
IDE2KQ0KKyNkZWZpbmUgRkxFWENBTl9GRENUUkxfVERDRU4JCUJJVCgxNSkNCisjZGVmaW5lIEZM
RVhDQU5fRkRDVFJMX1REQ0ZBSUwJCUJJVCgxNCkNCisjZGVmaW5lIEZMRVhDQU5fRkRDVFJMX1RE
Q09GRih4KQkoKCh4KSAmIDB4MWYpIDw8IDgpDQorDQorLyogRkxFWENBTiBDQU4gRkQgQml0IFRp
bWluZyBSZWdpc3RlciAoRkRDQlQpIGJpdHMgKi8NCisjZGVmaW5lIEZMRVhDQU5fRkRDQlRfRlBS
RVNESVYoeCkJKCgoeCkgJiAweDNmZikgPDwgMjApDQorI2RlZmluZSBGTEVYQ0FOX0ZEQ0JUX0ZS
SlcoeCkJCSgoKHgpICYgMHgwMykgPDwgMTYpDQorI2RlZmluZSBGTEVYQ0FOX0ZEQ0JUX0ZQUk9Q
U0VHKHgpCSgoKHgpICYgMHgxZikgPDwgMTApDQorI2RlZmluZSBGTEVYQ0FOX0ZEQ0JUX0ZQU0VH
MSh4KQkJKCgoeCkgJiAweDA3KSA8PCA1KQ0KKyNkZWZpbmUgRkxFWENBTl9GRENCVF9GUFNFRzIo
eCkJCSgoeCkgJiAweDA3KQ0KKw0KIC8qIEZMRVhDQU4gaW50ZXJydXB0IGZsYWcgcmVnaXN0ZXIg
KElGTEFHKSBiaXRzICovDQogLyogRXJyYXRhIEVSUjAwNTgyOSBzdGVwNzogUmVzZXJ2ZSBmaXJz
dCB2YWxpZCBNQiAqLw0KICNkZWZpbmUgRkxFWENBTl9UWF9NQl9SRVNFUlZFRF9PRkZfRklGTwkJ
OA0KQEAgLTE2MCw2ICsxODQsOSBAQA0KICNkZWZpbmUgRkxFWENBTl9NQl9DT0RFX1RYX0RBVEEJ
CSgweGMgPDwgMjQpDQogI2RlZmluZSBGTEVYQ0FOX01CX0NPREVfVFhfVEFOU1dFUgkoMHhlIDw8
IDI0KQ0KIA0KKyNkZWZpbmUgRkxFWENBTl9NQl9DTlRfRURMCQlCSVQoMzEpDQorI2RlZmluZSBG
TEVYQ0FOX01CX0NOVF9CUlMJCUJJVCgzMCkNCisjZGVmaW5lIEZMRVhDQU5fTUJfQ05UX0VTSQkJ
QklUKDI5KQ0KICNkZWZpbmUgRkxFWENBTl9NQl9DTlRfU1JSCQlCSVQoMjIpDQogI2RlZmluZSBG
TEVYQ0FOX01CX0NOVF9JREUJCUJJVCgyMSkNCiAjZGVmaW5lIEZMRVhDQU5fTUJfQ05UX1JUUgkJ
QklUKDIwKQ0KQEAgLTE3MSwxNSArMTk4LDE2IEBADQogLyogRkxFWENBTiBoYXJkd2FyZSBmZWF0
dXJlIGZsYWdzDQogICoNCiAgKiBCZWxvdyBpcyBzb21lIHZlcnNpb24gaW5mbyB3ZSBnb3Q6DQot
ICogICAgU09DICAgVmVyc2lvbiAgIElQLVZlcnNpb24gIEdsaXRjaC0gW1RSXVdSTl9JTlQgSVJR
IEVyciBNZW1vcnkgZXJyIFJUUiByZS0NCi0gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgRmlsdGVyPyBjb25uZWN0ZWQ/ICBQYXNzaXZlIGRldGVjdGlvbiAgY2VwdGlvbiBpbiBNQg0K
LSAqICAgTVgyNSAgRmxleENBTjIgIDAzLjAwLjAwLjAwICAgICBubyAgICAgICAgbm8gICAgICAg
IG5vICAgICAgIG5vICAgICAgICBubw0KLSAqICAgTVgyOCAgRmxleENBTjIgIDAzLjAwLjA0LjAw
ICAgIHllcyAgICAgICB5ZXMgICAgICAgIG5vICAgICAgIG5vICAgICAgICBubw0KLSAqICAgTVgz
NSAgRmxleENBTjIgIDAzLjAwLjAwLjAwICAgICBubyAgICAgICAgbm8gICAgICAgIG5vICAgICAg
IG5vICAgICAgICBubw0KLSAqICAgTVg1MyAgRmxleENBTjIgIDAzLjAwLjAwLjAwICAgIHllcyAg
ICAgICAgbm8gICAgICAgIG5vICAgICAgIG5vICAgICAgICBubw0KLSAqICAgTVg2cyAgRmxleENB
TjMgIDEwLjAwLjEyLjAwICAgIHllcyAgICAgICB5ZXMgICAgICAgIG5vICAgICAgIG5vICAgICAg
IHllcw0KLSAqICAgVkY2MTAgRmxleENBTjMgID8gICAgICAgICAgICAgICBubyAgICAgICB5ZXMg
ICAgICAgIG5vICAgICAgeWVzICAgICAgIHllcz8NCi0gKiBMUzEwMjFBIEZsZXhDQU4yICAwMy4w
MC4wNC4wMCAgICAgbm8gICAgICAgeWVzICAgICAgICBubyAgICAgICBubyAgICAgICB5ZXMNCisg
KiAgICBTT0MgICBWZXJzaW9uICAgSVAtVmVyc2lvbiAgR2xpdGNoLSBbVFJdV1JOX0lOVCBJUlEg
RXJyIE1lbW9yeSBlcnIgUlRSIHJlY2UtICAgICBGRCBNb2RlDQorICogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIEZpbHRlcj8gY29ubmVjdGVkPyAgUGFzc2l2ZSBkZXRlY3Rpb24gIHB0
aW9uIGluIE1CICAgU3VwcG9ydGVkPw0KKyAqICAgTVgyNSAgRmxleENBTjIgIDAzLjAwLjAwLjAw
ICAgICBubyAgICAgICAgbm8gICAgICAgIG5vICAgICAgIG5vICAgICAgICBubyAgICAgICAgICAg
bm8NCisgKiAgIE1YMjggIEZsZXhDQU4yICAwMy4wMC4wNC4wMCAgICB5ZXMgICAgICAgeWVzICAg
ICAgICBubyAgICAgICBubyAgICAgICAgbm8gICAgICAgICAgIG5vDQorICogICBNWDM1ICBGbGV4
Q0FOMiAgMDMuMDAuMDAuMDAgICAgIG5vICAgICAgICBubyAgICAgICAgbm8gICAgICAgbm8gICAg
ICAgIG5vICAgICAgICAgICBubw0KKyAqICAgTVg1MyAgRmxleENBTjIgIDAzLjAwLjAwLjAwICAg
IHllcyAgICAgICAgbm8gICAgICAgIG5vICAgICAgIG5vICAgICAgICBubyAgICAgICAgICAgbm8N
CisgKiAgIE1YNnMgIEZsZXhDQU4zICAxMC4wMC4xMi4wMCAgICB5ZXMgICAgICAgeWVzICAgICAg
ICBubyAgICAgICBubyAgICAgICB5ZXMgICAgICAgICAgIG5vDQorICogICBWRjYxMCBGbGV4Q0FO
MyAgPyAgICAgICAgICAgICAgIG5vICAgICAgIHllcyAgICAgICAgbm8gICAgICB5ZXMgICAgICAg
eWVzPyAgICAgICAgICBubw0KKyAqIExTMTAyMUEgRmxleENBTjIgIDAzLjAwLjA0LjAwICAgICBu
byAgICAgICB5ZXMgICAgICAgIG5vICAgICAgIG5vICAgICAgIHllcyAgICAgICAgICAgbm8NCisg
KiBMWDIxNjBBIEZsZXhDQU4zICAwMy4wMC4yMy4wMCAgICAgbm8gICAgICAgeWVzICAgICAgICBu
byAgICAgICBubyAgICAgICB5ZXMgICAgICAgICAgeWVzDQogICoNCiAgKiBTb21lIFNPQ3MgZG8g
bm90IGhhdmUgdGhlIFJYX1dBUk4gJiBUWF9XQVJOIGludGVycnVwdCBsaW5lIGNvbm5lY3RlZC4N
CiAgKi8NCkBAIC0xOTEsNiArMjE5LDcgQEANCiAjZGVmaW5lIEZMRVhDQU5fUVVJUktfQlJPS0VO
X1BFUlJfU1RBVEUJQklUKDYpIC8qIE5vIGludGVycnVwdCBmb3IgZXJyb3IgcGFzc2l2ZSAqLw0K
ICNkZWZpbmUgRkxFWENBTl9RVUlSS19ERUZBVUxUX0JJR19FTkRJQU4JQklUKDcpIC8qIGRlZmF1
bHQgdG8gQkUgcmVnaXN0ZXIgYWNjZXNzICovDQogI2RlZmluZSBGTEVYQ0FOX1FVSVJLX1NFVFVQ
X1NUT1BfTU9ERQkJQklUKDgpIC8qIFNldHVwIHN0b3AgbW9kZSB0byBzdXBwb3J0IHdha2V1cCAq
Lw0KKyNkZWZpbmUgRkxFWENBTl9RVUlSS19VU0VfRkQJCUJJVCg5KQ0KIA0KIC8qIFN0cnVjdHVy
ZSBvZiB0aGUgbWVzc2FnZSBidWZmZXIgKi8NCiBzdHJ1Y3QgZmxleGNhbl9tYiB7DQpAQCAtMjI0
LDcgKzI1Myw4IEBAIHN0cnVjdCBmbGV4Y2FuX3JlZ3Mgew0KIAl1MzIgY3JjcjsJCS8qIDB4NDQg
Ki8NCiAJdTMyIHJ4ZmdtYXNrOwkJLyogMHg0OCAqLw0KIAl1MzIgcnhmaXI7CQkvKiAweDRjICov
DQotCXUzMiBfcmVzZXJ2ZWQzWzEyXTsJLyogMHg1MCAqLw0KKwl1MzIgY2J0OwkJLyogMHg1MCAq
Lw0KKwl1MzIgX3Jlc2VydmVkM1sxMV07CS8qIDB4NTQgKi8NCiAJdTggbWJbMl1bNTEyXTsJCS8q
IDB4ODAgKi8NCiAJLyogRklGTy1tb2RlOg0KIAkgKgkJCU1CDQpAQCAtMjQ5LDYgKzI3OSwxMCBA
QCBzdHJ1Y3QgZmxleGNhbl9yZWdzIHsNCiAJdTMyIHJlcnJkcjsJCS8qIDB4YWY0ICovDQogCXUz
MiByZXJyc3lucjsJCS8qIDB4YWY4ICovDQogCXUzMiBlcnJzcjsJCS8qIDB4YWZjICovDQorCXUz
MiBfcmVzZXJ2ZWQ3WzY0XTsJLyogMHhiMDAgKi8NCisJdTMyIGZkY3RybDsJCS8qIDB4YzAwICov
DQorCXUzMiBmZGNidDsJCS8qIDB4YzA0ICovDQorCXUzMiBmZGNyYzsJCS8qIDB4YzA4ICovDQog
fTsNCiANCiBzdHJ1Y3QgZmxleGNhbl9kZXZ0eXBlX2RhdGEgew0KQEAgLTMyMCw2ICszNTQsMTIg
QEAgc3RhdGljIGNvbnN0IHN0cnVjdCBmbGV4Y2FuX2RldnR5cGVfZGF0YSBmc2xfbHMxMDIxYV9y
Ml9kZXZ0eXBlX2RhdGEgPSB7DQogCQlGTEVYQ0FOX1FVSVJLX1VTRV9PRkZfVElNRVNUQU1QLA0K
IH07DQogDQorc3RhdGljIGNvbnN0IHN0cnVjdCBmbGV4Y2FuX2RldnR5cGVfZGF0YSBmc2xfbHgy
MTYwYV9yMV9kZXZ0eXBlX2RhdGEgPSB7DQorCS5xdWlya3MgPSBGTEVYQ0FOX1FVSVJLX0RJU0FC
TEVfUlhGRyB8IEZMRVhDQU5fUVVJUktfRU5BQkxFX0VBQ0VOX1JSUyB8DQorCQlGTEVYQ0FOX1FV
SVJLX0RJU0FCTEVfTUVDUiB8IEZMRVhDQU5fUVVJUktfQlJPS0VOX1BFUlJfU1RBVEUgfA0KKwkJ
RkxFWENBTl9RVUlSS19VU0VfT0ZGX1RJTUVTVEFNUCB8IEZMRVhDQU5fUVVJUktfVVNFX0ZELA0K
K307DQorDQogc3RhdGljIGNvbnN0IHN0cnVjdCBjYW5fYml0dGltaW5nX2NvbnN0IGZsZXhjYW5f
Yml0dGltaW5nX2NvbnN0ID0gew0KIAkubmFtZSA9IERSVl9OQU1FLA0KIAkudHNlZzFfbWluID0g
NCwNCkBAIC0zMzIsNiArMzcyLDMwIEBAIHN0YXRpYyBjb25zdCBzdHJ1Y3QgY2FuX2JpdHRpbWlu
Z19jb25zdCBmbGV4Y2FuX2JpdHRpbWluZ19jb25zdCA9IHsNCiAJLmJycF9pbmMgPSAxLA0KIH07
DQogDQorc3RhdGljIGNvbnN0IHN0cnVjdCBjYW5fYml0dGltaW5nX2NvbnN0IGV4dGVuZGVkX2Zs
ZXhjYW5fYml0dGltaW5nX2NvbnN0ID0gew0KKwkubmFtZSA9IERSVl9OQU1FLA0KKwkudHNlZzFf
bWluID0gMiwNCisJLnRzZWcxX21heCA9IDk2LA0KKwkudHNlZzJfbWluID0gMiwNCisJLnRzZWcy
X21heCA9IDMyLA0KKwkuc2p3X21heCA9IDE2LA0KKwkuYnJwX21pbiA9IDEsDQorCS5icnBfbWF4
ID0gMTAyNCwNCisJLmJycF9pbmMgPSAxLA0KK307DQorDQorc3RhdGljIGNvbnN0IHN0cnVjdCBj
YW5fYml0dGltaW5nX2NvbnN0IGZsZXhjYW5fZGF0YV9iaXR0aW1pbmdfY29uc3QgPSB7DQorCS5u
YW1lID0gRFJWX05BTUUsDQorCS50c2VnMV9taW4gPSAyLA0KKwkudHNlZzFfbWF4ID0gMzksDQor
CS50c2VnMl9taW4gPSAyLA0KKwkudHNlZzJfbWF4ID0gOCwNCisJLnNqd19tYXggPSA0LA0KKwku
YnJwX21pbiA9IDEsDQorCS5icnBfbWF4ID0gMTAyNCwNCisJLmJycF9pbmMgPSAxLA0KK307DQor
DQogLyogRmxleENBTiBtb2R1bGUgaXMgZXNzZW50aWFsbHkgbW9kZWxsZWQgYXMgYSBsaXR0bGUt
ZW5kaWFuIElQIGluIG1vc3QNCiAgKiBTb0NzLCBpLmUgdGhlIHJlZ2lzdGVycyBhcyB3ZWxsIGFz
IHRoZSBtZXNzYWdlIGJ1ZmZlciBhcmVhcyBhcmUNCiAgKiBpbXBsZW1lbnRlZCBpbiBhIGxpdHRs
ZS1lbmRpYW4gZmFzaGlvbi4NCkBAIC02MDcsOCArNjcxLDE2IEBAIHN0YXRpYyBuZXRkZXZfdHhf
dCBmbGV4Y2FuX3N0YXJ0X3htaXQoc3RydWN0IHNrX2J1ZmYgKnNrYiwgc3RydWN0IG5ldF9kZXZp
Y2UgKmRlDQogCQljYW5faWQgPSAoY2ZkLT5jYW5faWQgJiBDQU5fU0ZGX01BU0spIDw8IDE4Ow0K
IAl9DQogDQotCWlmICghY2FuX2lzX2NhbmZkX3NrYihza2IpICYmIChjZmQtPmNhbl9pZCAmIENB
Tl9SVFJfRkxBRykpDQotCQljdHJsIHw9IEZMRVhDQU5fTUJfQ05UX1JUUjsNCisJaWYgKGNhbl9p
c19jYW5mZF9za2Ioc2tiKSkgew0KKwkJY3RybCB8PSBGTEVYQ0FOX01CX0NOVF9FREw7DQorCQlp
ZiAoY2ZkLT5mbGFncyAmIENBTkZEX0JSUykNCisJCQljdHJsIHw9IEZMRVhDQU5fTUJfQ05UX0JS
UzsNCisJCWlmIChjZmQtPmZsYWdzICYgQ0FORkRfRVNJKQ0KKwkJCWN0cmwgfD0gRkxFWENBTl9N
Ql9DTlRfRVNJOw0KKwl9IGVsc2Ugew0KKwkJaWYgKGNmZC0+Y2FuX2lkICYgQ0FOX1JUUl9GTEFH
KQ0KKwkJCWN0cmwgfD0gRkxFWENBTl9NQl9DTlRfUlRSOw0KKwl9DQogDQogCWZvciAoaSA9IDA7
IGkgPCBjYW5fbGVuMmRsYyhjZmQtPmxlbik7IGkgKz0gc2l6ZW9mKHUzMikpIHsNCiAJCWRhdGEg
PSBiZTMyX3RvX2NwdXAoKF9fYmUzMiAqKSZjZmQtPmRhdGFbaV0pOw0KQEAgLTk2NCwzNCArMTAz
NiwxMDcgQEAgc3RhdGljIHZvaWQgZmxleGNhbl9zZXRfYml0dGltaW5nKHN0cnVjdCBuZXRfZGV2
aWNlICpkZXYpDQogew0KIAljb25zdCBzdHJ1Y3QgZmxleGNhbl9wcml2ICpwcml2ID0gbmV0ZGV2
X3ByaXYoZGV2KTsNCiAJY29uc3Qgc3RydWN0IGNhbl9iaXR0aW1pbmcgKmJ0ID0gJnByaXYtPmNh
bi5iaXR0aW1pbmc7DQorCWNvbnN0IHN0cnVjdCBjYW5fYml0dGltaW5nICpkYXRhX2J0ID0gJnBy
aXYtPmNhbi5kYXRhX2JpdHRpbWluZzsNCiAJc3RydWN0IGZsZXhjYW5fcmVncyBfX2lvbWVtICpy
ZWdzID0gcHJpdi0+cmVnczsNCi0JdTMyIHJlZzsNCisJdTMyIHJlZ19jdHJsLCByZWdfbWNyLCBy
ZWdfY2J0LCByZWdfZmRjYnQsIHJlZ19mZGN0cmw7DQogDQotCXJlZyA9IHByaXYtPnJlYWQoJnJl
Z3MtPmN0cmwpOw0KLQlyZWcgJj0gfihGTEVYQ0FOX0NUUkxfUFJFU0RJVigweGZmKSB8DQotCQkg
RkxFWENBTl9DVFJMX1JKVygweDMpIHwNCi0JCSBGTEVYQ0FOX0NUUkxfUFNFRzEoMHg3KSB8DQot
CQkgRkxFWENBTl9DVFJMX1BTRUcyKDB4NykgfA0KLQkJIEZMRVhDQU5fQ1RSTF9QUk9QU0VHKDB4
NykgfA0KLQkJIEZMRVhDQU5fQ1RSTF9MUEIgfA0KLQkJIEZMRVhDQU5fQ1RSTF9TTVAgfA0KLQkJ
IEZMRVhDQU5fQ1RSTF9MT00pOw0KLQ0KLQlyZWcgfD0gRkxFWENBTl9DVFJMX1BSRVNESVYoYnQt
PmJycCAtIDEpIHwNCi0JCUZMRVhDQU5fQ1RSTF9QU0VHMShidC0+cGhhc2Vfc2VnMSAtIDEpIHwN
Ci0JCUZMRVhDQU5fQ1RSTF9QU0VHMihidC0+cGhhc2Vfc2VnMiAtIDEpIHwNCi0JCUZMRVhDQU5f
Q1RSTF9SSlcoYnQtPnNqdyAtIDEpIHwNCi0JCUZMRVhDQU5fQ1RSTF9QUk9QU0VHKGJ0LT5wcm9w
X3NlZyAtIDEpOw0KKwlyZWdfbWNyID0gcHJpdi0+cmVhZCgmcmVncy0+bWNyKTsNCisJcmVnX2N0
cmwgPSBwcml2LT5yZWFkKCZyZWdzLT5jdHJsKTsNCisNCisJcmVnX2N0cmwgJj0gfihGTEVYQ0FO
X0NUUkxfTFBCIHwNCisJCSAgICAgIEZMRVhDQU5fQ1RSTF9TTVAgfA0KKwkJICAgICAgRkxFWENB
Tl9DVFJMX0xPTSk7DQogDQogCWlmIChwcml2LT5jYW4uY3RybG1vZGUgJiBDQU5fQ1RSTE1PREVf
TE9PUEJBQ0spDQotCQlyZWcgfD0gRkxFWENBTl9DVFJMX0xQQjsNCisJCXJlZ19jdHJsIHw9IEZM
RVhDQU5fQ1RSTF9MUEI7DQogCWlmIChwcml2LT5jYW4uY3RybG1vZGUgJiBDQU5fQ1RSTE1PREVf
TElTVEVOT05MWSkNCi0JCXJlZyB8PSBGTEVYQ0FOX0NUUkxfTE9NOw0KKwkJcmVnX2N0cmwgfD0g
RkxFWENBTl9DVFJMX0xPTTsNCiAJaWYgKHByaXYtPmNhbi5jdHJsbW9kZSAmIENBTl9DVFJMTU9E
RV8zX1NBTVBMRVMpDQotCQlyZWcgfD0gRkxFWENBTl9DVFJMX1NNUDsNCisJCXJlZ19jdHJsIHw9
IEZMRVhDQU5fQ1RSTF9TTVA7DQorDQorCWlmIChyZWdfbWNyICYgRkxFWENBTl9NQ1JfRkRFTikg
ew0KKwkJcmVnX2NidCA9IHByaXYtPnJlYWQoJnJlZ3MtPmNidCk7DQorCQlyZWdfZmRjYnQgPSBw
cml2LT5yZWFkKCZyZWdzLT5mZGNidCk7DQorCQlyZWdfZmRjdHJsID0gcHJpdi0+cmVhZCgmcmVn
cy0+ZmRjdHJsKTsNCisNCisJCXJlZ19jYnQgfD0gRkxFWENBTl9DQlRfQlRGOw0KKwkJcmVnX2Ni
dCAmPSB+KEZMRVhDQU5fQ0JUX0VQUkVTRElWKDB4M2ZmKSB8DQorCQkJICAgICBGTEVYQ0FOX0NC
VF9FUkpXKDB4MGYpIHwNCisJCQkgICAgIEZMRVhDQU5fQ0JUX0VQUk9QU0VHKDB4M2YpIHwNCisJ
CQkgICAgIEZMRVhDQU5fQ0JUX0VQU0VHMSgweDFmKSB8DQorCQkJICAgICBGTEVYQ0FOX0NCVF9F
UFNFRzIoMHgxZikpOw0KKw0KKwkJcmVnX2NidCB8PSBGTEVYQ0FOX0NCVF9FUFJFU0RJVihidC0+
YnJwIC0gMSkgfA0KKwkJCSAgIEZMRVhDQU5fQ0JUX0VSSlcoYnQtPnNqdyAtIDEpIHwNCisJCQkg
ICBGTEVYQ0FOX0NCVF9FUFJPUFNFRyhidC0+cHJvcF9zZWcgLSAxKSB8DQorCQkJICAgRkxFWENB
Tl9DQlRfRVBTRUcxKGJ0LT5waGFzZV9zZWcxIC0gMSkgfA0KKwkJCSAgIEZMRVhDQU5fQ0JUX0VQ
U0VHMihidC0+cGhhc2Vfc2VnMiAtIDEpOw0KKw0KKwkJcmVnX2ZkY2J0ICY9IH4oRkxFWENBTl9G
RENCVF9GUFJFU0RJVigweDNmZikgfA0KKwkJCSAgICAgICBGTEVYQ0FOX0ZEQ0JUX0ZSSlcoMHgw
MykgfA0KKwkJCSAgICAgICBGTEVYQ0FOX0NCVF9FUFJPUFNFRygweDFmKSB8DQorCQkJICAgICAg
IEZMRVhDQU5fRkRDQlRfRlBTRUcxKDB4MDcpIHwNCisJCQkgICAgICAgRkxFWENBTl9GRENCVF9G
UFNFRzIoMHgwNykpOw0KKw0KKwkJcmVnX2ZkY2J0IHw9IEZMRVhDQU5fRkRDQlRfRlBSRVNESVYo
ZGF0YV9idC0+YnJwIC0gMSkgfA0KKwkJCSAgICAgRkxFWENBTl9GRENCVF9GUkpXKGRhdGFfYnQt
PnNqdyAtIDEpIHwNCisJCQkgICAgIEZMRVhDQU5fRkRDQlRfRlBST1BTRUcoZGF0YV9idC0+cHJv
cF9zZWcpIHwNCisJCQkgICAgIEZMRVhDQU5fRkRDQlRfRlBTRUcxKGRhdGFfYnQtPnBoYXNlX3Nl
ZzEgLSAxKSB8DQorCQkJICAgICBGTEVYQ0FOX0ZEQ0JUX0ZQU0VHMihkYXRhX2J0LT5waGFzZV9z
ZWcyIC0gMSk7DQorDQorCQlpZiAocHJpdi0+Y2FuLmN0cmxtb2RlICYgQ0FOX0NUUkxNT0RFX0ZE
KSB7DQorCQkJdTMyIHRkY29mZjsNCisJCQkvKiBObyBUREMgaXMgbmVlZGVkIGZvciBkYXRhIGJp
dCByYXRlcyB1cCB0byAyLjUgTUJpdC9zDQorCQkJICogcmVmZXIgaHR0cHM6Ly93d3cuY2FuLWNp
YS5vcmcvZmlsZWFkbWluL3Jlc291cmNlcy9kb2N1bWVudHMvcHJvY2VlZGluZ3MvMjAxM19oYXJ0
d2ljaF92Mi5wZGYNCisJCQkgKi8NCisJCQlpZiAocmVnX2N0cmwgJiBGTEVYQ0FOX0NUUkxfTFBC
IHx8DQorCQkJICAgIGRhdGFfYnQtPmJpdHJhdGUgPD0gMjUwMDAwMCkNCisJCQkJcmVnX2ZkY3Ry
bCAmPSB+RkxFWENBTl9GRENUUkxfVERDRU47DQorCQkJZWxzZQ0KKwkJCQlyZWdfZmRjdHJsIHw9
IEZMRVhDQU5fRkRDVFJMX1REQ0VOOw0KIA0KLQluZXRkZXZfZGJnKGRldiwgIndyaXRpbmcgY3Ry
bD0weCUwOHhcbiIsIHJlZyk7DQotCXByaXYtPndyaXRlKHJlZywgJnJlZ3MtPmN0cmwpOw0KKwkJ
CXJlZ19mZGN0cmwgfD0gKEZMRVhDQU5fRkRDVFJMX0ZEUkFURSB8DQorCQkJCSAgICAgICBGTEVY
Q0FOX0ZEQ1RSTF9URENGQUlMKTsNCisNCisJCQkvKiBvZmZzZXQgc2hvdWxkIGJlIHdpdGhpbiB0
aGUgY2FuIEZEIGJpdCB0aW1pbmdzICovDQorCQkJdGRjb2ZmID0gKGRhdGFfYnQtPnBoYXNlX3Nl
ZzEgKyBkYXRhX2J0LT5wcm9wX3NlZykgKg0KKwkJCQkgIGRhdGFfYnQtPmJycDsNCisNCisJCQly
ZWdfZmRjdHJsIHw9IEZMRVhDQU5fRkRDVFJMX1REQ09GRih0ZGNvZmYpOw0KKwkJCXJlZ19mZGN0
cmwgfD0gRkxFWENBTl9GRENUUkxfTUJEU1IwKDMpIHwNCisJCQkJICAgICAgRkxFWENBTl9GRENU
UkxfTUJEU1IxKDMpOw0KKw0KKwkJCWlmIChkYXRhX2J0LT5icnAgIT0gYnQtPmJycCkNCisJCQkJ
bmV0ZGV2X3dhcm4oZGV2LCAiV2FybmluZyEhIGRhdGEgYnJwID0gJWQgYW5kIGJycCA9ICVkIGRv
bid0IG1hdGNoLlxuIg0KKwkJCQkJICAgICJmbGV4Y2FuIG1heSBub3Qgd29yay4gY29uc2lkZXIg
dXNpbmcgZGlmZmVyZW50IGJpdHJhdGUgb3IgZGF0YSBiaXRyYXRlXG4iLA0KKwkJCQkJICAgIGRh
dGFfYnQtPmJycCwgYnQtPmJycCk7DQorCQl9IGVsc2Ugew0KKwkJCXJlZ19mZGN0cmwgfD0gRkxF
WENBTl9GRENUUkxfTUJEU1IwKDApIHwNCisJCQkJICAgICAgRkxFWENBTl9GRENUUkxfTUJEU1Ix
KDApOw0KKwkJCXJlZ19mZGN0cmwgJj0gfkZMRVhDQU5fRkRDVFJMX0ZEUkFURTsNCisJCX0NCisJ
CW5ldGRldl9kYmcoZGV2LCAid3JpdGluZyBmZGN0cmw9MHglMDh4IiwgcmVnX2ZkY3RybCk7DQor
CQluZXRkZXZfZGJnKGRldiwgIndyaXRpbmcgY2J0PTB4JTA4eFxuIiwgcmVnX2NidCk7DQorCQlu
ZXRkZXZfZGJnKGRldiwgIndyaXRpbmcgZmRjYnQ9MHglMDh4XG4iLCByZWdfZmRjYnQpOw0KKwkJ
cHJpdi0+d3JpdGUocmVnX2ZkY3RybCwgJnJlZ3MtPmZkY3RybCk7DQorCQlwcml2LT53cml0ZShy
ZWdfY2J0LCAmcmVncy0+Y2J0KTsNCisJCXByaXYtPndyaXRlKHJlZ19mZGNidCwgJnJlZ3MtPmZk
Y2J0KTsNCisJfSBlbHNlIHsNCisJCXJlZ19jdHJsICY9IH4oRkxFWENBTl9DVFJMX1BSRVNESVYo
MHhmZikgfA0KKwkJCUZMRVhDQU5fQ1RSTF9SSlcoMHgzKSB8DQorCQkJRkxFWENBTl9DVFJMX1BT
RUcxKDB4NykgfA0KKwkJCUZMRVhDQU5fQ1RSTF9QU0VHMigweDcpIHwNCisJCQlGTEVYQ0FOX0NU
UkxfUFJPUFNFRygweDcpKTsNCisNCisJCXJlZ19jdHJsIHw9IEZMRVhDQU5fQ1RSTF9QUkVTRElW
KGJ0LT5icnAgLSAxKSB8DQorCQkJRkxFWENBTl9DVFJMX1BTRUcxKGJ0LT5waGFzZV9zZWcxIC0g
MSkgfA0KKwkJCUZMRVhDQU5fQ1RSTF9QU0VHMihidC0+cGhhc2Vfc2VnMiAtIDEpIHwNCisJCQlG
TEVYQ0FOX0NUUkxfUkpXKGJ0LT5zancgLSAxKSB8DQorCQkJRkxFWENBTl9DVFJMX1BST1BTRUco
YnQtPnByb3Bfc2VnIC0gMSk7DQorCX0NCisNCisJbmV0ZGV2X2RiZyhkZXYsICJ3cml0aW5nIGN0
cmw9MHglMDh4XG4iLCByZWdfY3RybCk7DQorCXByaXYtPndyaXRlKHJlZ19jdHJsLCAmcmVncy0+
Y3RybCk7DQogDQogCS8qIHByaW50IGNoaXAgc3RhdHVzICovDQogCW5ldGRldl9kYmcoZGV2LCAi
JXM6IG1jcj0weCUwOHggY3RybD0weCUwOHhcbiIsIF9fZnVuY19fLA0KQEAgLTEwMzAsNiArMTE3
NSw3IEBAIHN0YXRpYyBpbnQgZmxleGNhbl9jaGlwX3N0YXJ0KHN0cnVjdCBuZXRfZGV2aWNlICpk
ZXYpDQogCSAqIGVuYWJsZSBpbmRpdmlkdWFsIFJYIG1hc2tpbmcNCiAJICogY2hvb3NlIGZvcm1h
dCBDDQogCSAqIHNldCBtYXggbWFpbGJveCBudW1iZXINCisJICogZW5hYmxlIEZEIG1vZGUNCiAJ
ICovDQogCXJlZ19tY3IgPSBwcml2LT5yZWFkKCZyZWdzLT5tY3IpOw0KIAlyZWdfbWNyICY9IH5G
TEVYQ0FOX01DUl9NQVhNQigweGZmKTsNCkBAIC0xMDY0LDYgKzEyMTAsOCBAQCBzdGF0aWMgaW50
IGZsZXhjYW5fY2hpcF9zdGFydChzdHJ1Y3QgbmV0X2RldmljZSAqZGV2KQ0KIAkJcmVnX21jciAm
PSB+RkxFWENBTl9NQ1JfU1JYX0RJUzsNCiAJZWxzZQ0KIAkJcmVnX21jciB8PSBGTEVYQ0FOX01D
Ul9TUlhfRElTOw0KKwlpZiAocHJpdi0+ZGV2dHlwZV9kYXRhLT5xdWlya3MgJiBGTEVYQ0FOX1FV
SVJLX1VTRV9GRCkNCisJCXJlZ19tY3IgfD0gRkxFWENBTl9NQ1JfRkRFTjsNCiANCiAJbmV0ZGV2
X2RiZyhkZXYsICIlczogd3JpdGluZyBtY3I9MHglMDh4IiwgX19mdW5jX18sIHJlZ19tY3IpOw0K
IAlwcml2LT53cml0ZShyZWdfbWNyLCAmcmVncy0+bWNyKTsNCkBAIC0xMjQyLDcgKzEzOTAsMTQg
QEAgc3RhdGljIGludCBmbGV4Y2FuX29wZW4oc3RydWN0IG5ldF9kZXZpY2UgKmRldikNCiAJaWYg
KGVycikNCiAJCWdvdG8gb3V0X2Nsb3NlOw0KIA0KLQlwcml2LT5tYl9zaXplID0gc2l6ZW9mKHN0
cnVjdCBmbGV4Y2FuX21iKSArIENBTl9NQVhfRExFTjsNCisJaWYgKHByaXYtPmNhbi5jdHJsbW9k
ZSAmIENBTl9DVFJMTU9ERV9GRCkgew0KKwkJcHJpdi0+b2ZmbG9hZC5mZF9lbmFibGUgPSB0cnVl
Ow0KKwkJcHJpdi0+bWJfc2l6ZSA9IHNpemVvZihzdHJ1Y3QgZmxleGNhbl9tYikgKyBDQU5GRF9N
QVhfRExFTjsNCisJfSBlbHNlIHsNCisJCXByaXYtPm9mZmxvYWQuZmRfZW5hYmxlID0gZmFsc2U7
DQorCQlwcml2LT5tYl9zaXplID0gc2l6ZW9mKHN0cnVjdCBmbGV4Y2FuX21iKSArIENBTl9NQVhf
RExFTjsNCisJfQ0KKw0KIAlwcml2LT5tYl9jb3VudCA9IChzaXplb2YocHJpdi0+cmVncy0+bWJb
MF0pIC8gcHJpdi0+bWJfc2l6ZSkgKw0KIAkJCSAoc2l6ZW9mKHByaXYtPnJlZ3MtPm1iWzFdKSAv
IHByaXYtPm1iX3NpemUpOw0KIA0KQEAgLTEyNTcsNyArMTQxMiw2IEBAIHN0YXRpYyBpbnQgZmxl
eGNhbl9vcGVuKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYpDQogDQogCXByaXYtPnJlZ19pbWFza19k
ZWZhdWx0ID0gRkxFWENBTl9JRkxBR19NQihwcml2LT50eF9tYl9pZHgpOw0KIA0KLQlwcml2LT5v
ZmZsb2FkLmZkX2VuYWJsZSA9IGZhbHNlOw0KIAlwcml2LT5vZmZsb2FkLm1haWxib3hfcmVhZCA9
IGZsZXhjYW5fbWFpbGJveF9yZWFkOw0KIA0KIAlpZiAocHJpdi0+ZGV2dHlwZV9kYXRhLT5xdWly
a3MgJiBGTEVYQ0FOX1FVSVJLX1VTRV9PRkZfVElNRVNUQU1QKSB7DQpAQCAtMTQ3Nyw2ICsxNjMx
LDcgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBvZl9kZXZpY2VfaWQgZmxleGNhbl9vZl9tYXRjaFtd
ID0gew0KIAl7IC5jb21wYXRpYmxlID0gImZzbCxwMTAxMC1mbGV4Y2FuIiwgLmRhdGEgPSAmZnNs
X3AxMDEwX2RldnR5cGVfZGF0YSwgfSwNCiAJeyAuY29tcGF0aWJsZSA9ICJmc2wsdmY2MTAtZmxl
eGNhbiIsIC5kYXRhID0gJmZzbF92ZjYxMF9kZXZ0eXBlX2RhdGEsIH0sDQogCXsgLmNvbXBhdGli
bGUgPSAiZnNsLGxzMTAyMWFyMi1mbGV4Y2FuIiwgLmRhdGEgPSAmZnNsX2xzMTAyMWFfcjJfZGV2
dHlwZV9kYXRhLCB9LA0KKwl7IC5jb21wYXRpYmxlID0gImZzbCxseDIxNjBhcjEtZmxleGNhbiIs
IC5kYXRhID0gJmZzbF9seDIxNjBhX3IxX2RldnR5cGVfZGF0YSwgfSwNCiAJeyAvKiBzZW50aW5l
bCAqLyB9LA0KIH07DQogTU9EVUxFX0RFVklDRV9UQUJMRShvZiwgZmxleGNhbl9vZl9tYXRjaCk7
DQpAQCAtMTU2Niw2ICsxNzIxLDEzIEBAIHN0YXRpYyBpbnQgZmxleGNhbl9wcm9iZShzdHJ1Y3Qg
cGxhdGZvcm1fZGV2aWNlICpwZGV2KQ0KIAkJcHJpdi0+d3JpdGUgPSBmbGV4Y2FuX3dyaXRlX2xl
Ow0KIAl9DQogDQorCWlmICgoZGV2dHlwZV9kYXRhLT5xdWlya3MgJiBGTEVYQ0FOX1FVSVJLX1VT
RV9GRCkgJiYNCisJICAgICEoZGV2dHlwZV9kYXRhLT5xdWlya3MgJiBGTEVYQ0FOX1FVSVJLX1VT
RV9PRkZfVElNRVNUQU1QKSkgew0KKwkJZGV2X2VycigmcGRldi0+ZGV2LCAiY2FuJ3QgdXNlIEZJ
Rk8gd2l0aCBGRCBtb2RlXG4iKTsNCisJCWVyciA9IC1FTk9ERVY7DQorCQlnb3RvIGZhaWxlZF9y
ZWdpc3RlcjsNCisJfQ0KKw0KIAlwcml2LT5jYW4uY2xvY2suZnJlcSA9IGNsb2NrX2ZyZXE7DQog
CXByaXYtPmNhbi5iaXR0aW1pbmdfY29uc3QgPSAmZmxleGNhbl9iaXR0aW1pbmdfY29uc3Q7DQog
CXByaXYtPmNhbi5kb19zZXRfbW9kZSA9IGZsZXhjYW5fc2V0X21vZGU7DQpAQCAtMTU3OSw2ICsx
NzQxLDEyIEBAIHN0YXRpYyBpbnQgZmxleGNhbl9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNl
ICpwZGV2KQ0KIAlwcml2LT5kZXZ0eXBlX2RhdGEgPSBkZXZ0eXBlX2RhdGE7DQogCXByaXYtPnJl
Z194Y2VpdmVyID0gcmVnX3hjZWl2ZXI7DQogDQorCWlmIChwcml2LT5kZXZ0eXBlX2RhdGEtPnF1
aXJrcyAmIEZMRVhDQU5fUVVJUktfVVNFX0ZEKSB7DQorCQlwcml2LT5jYW4uYml0dGltaW5nX2Nv
bnN0ID0gJmV4dGVuZGVkX2ZsZXhjYW5fYml0dGltaW5nX2NvbnN0Ow0KKwkJcHJpdi0+Y2FuLmN0
cmxtb2RlX3N1cHBvcnRlZCB8PSBDQU5fQ1RSTE1PREVfRkQ7DQorCQlwcml2LT5jYW4uZGF0YV9i
aXR0aW1pbmdfY29uc3QgPSAmZmxleGNhbl9kYXRhX2JpdHRpbWluZ19jb25zdDsNCisJfQ0KKw0K
IAllcnIgPSByZWdpc3Rlcl9mbGV4Y2FuZGV2KGRldik7DQogCWlmIChlcnIpIHsNCiAJCWRldl9l
cnIoJnBkZXYtPmRldiwgInJlZ2lzdGVyaW5nIG5ldGRldiBmYWlsZWRcbiIpOw0KLS0gDQoyLjE3
LjENCg0K
