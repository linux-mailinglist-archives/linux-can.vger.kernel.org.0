Return-Path: <linux-can-owner@vger.kernel.org>
X-Original-To: lists+linux-can@lfdr.de
Delivered-To: lists+linux-can@lfdr.de
Received: from vger.kernel.org (vger.kernel.org [209.132.180.67])
	by mail.lfdr.de (Postfix) with ESMTP id 147CC2C39F
	for <lists+linux-can@lfdr.de>; Tue, 28 May 2019 11:55:36 +0200 (CEST)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S1726511AbfE1Jzf (ORCPT <rfc822;lists+linux-can@lfdr.de>);
        Tue, 28 May 2019 05:55:35 -0400
Received: from mail-eopbgr00070.outbound.protection.outlook.com ([40.107.0.70]:19390
        "EHLO EUR02-AM5-obe.outbound.protection.outlook.com"
        rhost-flags-OK-OK-OK-FAIL) by vger.kernel.org with ESMTP
        id S1726203AbfE1Jzf (ORCPT <rfc822;linux-can@vger.kernel.org>);
        Tue, 28 May 2019 05:55:35 -0400
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=nxp.com; s=selector2;
 h=From:Date:Subject:Message-ID:Content-Type:MIME-Version:X-MS-Exchange-SenderADCheck;
 bh=DjUBqDqlEHAIrmwGR81aD7YVaJ/piIYqEV+FotE3OWs=;
 b=Owo8LGFwoI201xfEImELUl3HN0OAkTcQXEWUFoliUAHqQx2SZuAqgyI5Xzg35e6v29PIpX0DnkWtiGdMHXx7KJRSpvKnVqAogKv+0QxQ6JUi2efYUNmLZPHxOR30hK5kicp58Q73u+wW7JFJOZMcLi0WBAPZxqrnTjhjNLM1IsM=
Received: from VI1PR0401MB2496.eurprd04.prod.outlook.com (10.168.65.10) by
 VI1PR0401MB2431.eurprd04.prod.outlook.com (10.169.134.24) with Microsoft SMTP
 Server (version=TLS1_2, cipher=TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384) id
 15.20.1922.16; Tue, 28 May 2019 09:55:26 +0000
Received: from VI1PR0401MB2496.eurprd04.prod.outlook.com
 ([fe80::3d45:6b81:13ba:88cf]) by VI1PR0401MB2496.eurprd04.prod.outlook.com
 ([fe80::3d45:6b81:13ba:88cf%7]) with mapi id 15.20.1922.021; Tue, 28 May 2019
 09:55:26 +0000
From:   Pankaj Bansal <pankaj.bansal@nxp.com>
To:     Wolfgang Grandegger <wg@grandegger.com>,
        Marc Kleine-Budde <mkl@pengutronix.de>
CC:     "linux-can@vger.kernel.org" <linux-can@vger.kernel.org>
Subject: [PATCH v2 4/4] net: can: flexcan: can FD Format (FDF) changes
Thread-Topic: [PATCH v2 4/4] net: can: flexcan: can FD Format (FDF) changes
Thread-Index: AQHVFTt5xGX+gTulz0anLSI9m9v9eQ==
Date:   Tue, 28 May 2019 09:55:26 +0000
Message-ID: <20190528151844.14668-5-pankaj.bansal@nxp.com>
References: <20190528151844.14668-1-pankaj.bansal@nxp.com>
In-Reply-To: <20190528151844.14668-1-pankaj.bansal@nxp.com>
Accept-Language: en-US
Content-Language: en-US
X-MS-Has-Attach: 
X-MS-TNEF-Correlator: 
x-clientproxiedby: BMXPR01CA0009.INDPRD01.PROD.OUTLOOK.COM
 (2603:1096:b00:d::19) To VI1PR0401MB2496.eurprd04.prod.outlook.com
 (2603:10a6:800:56::10)
x-mailer: git-send-email 2.17.1
authentication-results: spf=none (sender IP is )
 smtp.mailfrom=pankaj.bansal@nxp.com; 
x-ms-exchange-messagesentrepresentingtype: 1
x-originating-ip: [92.120.1.69]
x-ms-publictraffictype: Email
x-ms-office365-filtering-correlation-id: 4cfc70b6-6ee3-41e6-6f13-08d6e3529c1d
x-ms-office365-filtering-ht: Tenant
x-microsoft-antispam: BCL:0;PCL:0;RULEID:(2390118)(7020095)(4652040)(8989299)(5600148)(711020)(4605104)(1401327)(4618075)(4534185)(4627221)(201703031133081)(201702281549075)(8990200)(2017052603328)(7193020);SRVR:VI1PR0401MB2431;
x-ms-traffictypediagnostic: VI1PR0401MB2431:
x-ms-exchange-purlcount: 1
x-microsoft-antispam-prvs: <VI1PR0401MB2431C5D7B6D377367A39E74CF11E0@VI1PR0401MB2431.eurprd04.prod.outlook.com>
x-ms-oob-tlc-oobclassifiers: OLM:923;
x-forefront-prvs: 00514A2FE6
x-forefront-antispam-report: SFV:NSPM;SFS:(10009020)(396003)(346002)(366004)(39860400002)(376002)(136003)(199004)(189003)(478600001)(316002)(2906002)(966005)(71200400001)(30864003)(4326008)(76176011)(71190400001)(52116002)(3846002)(25786009)(99286004)(6116002)(14454004)(6506007)(386003)(5660300002)(53936002)(102836004)(44832011)(446003)(8936002)(8676002)(81156014)(6512007)(86362001)(53946003)(14444005)(256004)(186003)(305945005)(66556008)(66476007)(66946007)(73956011)(66446008)(64756008)(50226002)(26005)(36756003)(7736002)(1076003)(486006)(68736007)(66066001)(11346002)(6436002)(6306002)(6486002)(476003)(2616005)(81166006)(110136005);DIR:OUT;SFP:1101;SCL:1;SRVR:VI1PR0401MB2431;H:VI1PR0401MB2496.eurprd04.prod.outlook.com;FPR:;SPF:None;LANG:en;PTR:InfoNoRecords;A:1;MX:1;
received-spf: None (protection.outlook.com: nxp.com does not designate
 permitted sender hosts)
x-ms-exchange-senderadcheck: 1
x-microsoft-antispam-message-info: e8UHoZf1CxNdwiNwXysfSA1P7BCWpUQ/tA4oWOVbAnexDBsbA3WtOJGya/2j2OK7Ti1jT4jk3HTVw1XCob8qINF2KlXMZhkoOZRB8CJ4dsWOoRhUpUMwDM9gYmrHJJJvXfo4Eva+46zr5LZPbR7dog7MnCSmXv+FFWcmWIvph+d+NCNAPutb5QXaYrqUARNjTX9WEW3o1Ays6n4x6A9H9hhXZ/qYMtr++m4fkc9eysk0Zuraopg3Yaw8iWT/VsZIApVo9GZgnUgx572wPXK9kR49mAmqx3NHWbJyObMlbm2q3V+XGntZUuijQ33Jw19NMiDnzwYRikC/vPCwZA9fMbNGK/aJw3BcqQ3AcaGb5zs6nf2wRzmSI+DaVWpfonj5Su+1ZcckgdHd/CYqqIQaGTIxD974X7XVMjR1QfefVFQ=
Content-Type: text/plain; charset="utf-8"
Content-ID: <1EC2DC60BDF1D6489BD3DEB548E13F29@eurprd04.prod.outlook.com>
Content-Transfer-Encoding: base64
MIME-Version: 1.0
X-OriginatorOrg: nxp.com
X-MS-Exchange-CrossTenant-Network-Message-Id: 4cfc70b6-6ee3-41e6-6f13-08d6e3529c1d
X-MS-Exchange-CrossTenant-originalarrivaltime: 28 May 2019 09:55:26.8504
 (UTC)
X-MS-Exchange-CrossTenant-fromentityheader: Hosted
X-MS-Exchange-CrossTenant-id: 686ea1d3-bc2b-4c6f-a92c-d99c5c301635
X-MS-Exchange-CrossTenant-mailboxtype: HOSTED
X-MS-Exchange-CrossTenant-userprincipalname: pankaj.bansal@nxp.com
X-MS-Exchange-Transport-CrossTenantHeadersStamped: VI1PR0401MB2431
Sender: linux-can-owner@vger.kernel.org
Precedence: bulk
List-ID: <linux-can.vger.kernel.org>
X-Mailing-List: linux-can@vger.kernel.org

VGhlIG5ldyB2ZXJzaW9uIG9mIGZsZXhjYW4gc3VwcG9ydCBDQU4gRkQgbW9kZS4gVGhlIHNhbGll
bnQgZmVhdHVyZXMgb2YNCnRoaXMgdmVyc2lvbiBhcmU6DQotIEZ1bGwgaW1wbGVtZW50YXRpb24g
b2YgdGhlIENBTiB3aXRoIEZsZXhpYmxlIERhdGEgUmF0ZSAoQ0FOIEZEKSBwcm90b2NvbA0KICBz
cGVjaWZpY2F0aW9uIGFuZCBDQU4gcHJvdG9jb2wgc3BlY2lmaWNhdGlvbiwgVmVyc2lvbiAyLjAg
Qg0KCeKAoiBTdGFuZGFyZCBkYXRhIGZyYW1lcw0KCeKAoiBFeHRlbmRlZCBkYXRhIGZyYW1lcw0K
CeKAoiBaZXJvIHRvIHNpeHR5IGZvdXIgYnl0ZXMgZGF0YSBsZW5ndGgNCgnigKIgUHJvZ3JhbW1h
YmxlIGJpdCByYXRlDQoJ4oCiIENvbnRlbnQtcmVsYXRlZCBhZGRyZXNzaW5nDQotIEZsZXhpYmxl
IG1haWxib3hlcyBjb25maWd1cmFibGUgdG8gc3RvcmUgMCB0byA4LCAxNiwgMzIgb3IgNjQgYnl0
ZXMNCiAgZGF0YSBsZW5ndGgNCi0gQ29tcGxpYW50IHdpdGggdGhlIElTTyAxMTg5OC0xIHN0YW5k
YXJkDQotIFRyYW5zY2VpdmVyIERlbGF5IENvbXBlbnNhdGlvbiBmZWF0dXJlIHdoZW4gdHJhbnNt
aXR0aW5nIENBTiBGRCBtZXNzYWdlcw0KICBhdCBmYXN0ZXIgZGF0YSByYXRlcw0KDQpTaWduZWQt
b2ZmLWJ5OiBQYW5rYWogQmFuc2FsIDxwYW5rYWouYmFuc2FsQG54cC5jb20+DQotLS0NCg0KTm90
ZXM6DQogICAgVjI6DQogICAgLSBGaXggdGhlIG92ZXJmbG93IHdoZW4gc2V0dGluZyBDQU4gYml0
dGltaW5ncyBpbiBDQlQgYW5kIEZEQ0JUIFJlZ2lzdGVycw0KDQogZHJpdmVycy9uZXQvY2FuL2Zs
ZXhjYW4uYyB8IDI2NCArKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrLS0tLS0NCiAxIGZp
bGUgY2hhbmdlZCwgMjI3IGluc2VydGlvbnMoKyksIDM3IGRlbGV0aW9ucygtKQ0KDQpkaWZmIC0t
Z2l0IGEvZHJpdmVycy9uZXQvY2FuL2ZsZXhjYW4uYyBiL2RyaXZlcnMvbmV0L2Nhbi9mbGV4Y2Fu
LmMNCmluZGV4IDI2ZTY1ZDNkMWMzYS4uMzdkNGZlNjUzM2U4IDEwMDY0NA0KLS0tIGEvZHJpdmVy
cy9uZXQvY2FuL2ZsZXhjYW4uYw0KKysrIGIvZHJpdmVycy9uZXQvY2FuL2ZsZXhjYW4uYw0KQEAg
LTUyLDYgKzUyLDcgQEANCiAjZGVmaW5lIEZMRVhDQU5fTUNSX0lSTVEJCUJJVCgxNikNCiAjZGVm
aW5lIEZMRVhDQU5fTUNSX0xQUklPX0VOCQlCSVQoMTMpDQogI2RlZmluZSBGTEVYQ0FOX01DUl9B
RU4JCQlCSVQoMTIpDQorI2RlZmluZSBGTEVYQ0FOX01DUl9GREVOCQlCSVQoMTEpDQogLyogTUNS
X01BWE1COiBtYXhpbXVtIHVzZWQgTUJzIGlzIE1BWE1CICsgMSAqLw0KICNkZWZpbmUgRkxFWENB
Tl9NQ1JfTUFYTUIoeCkJCSgoeCkgJiAweDdmKQ0KICNkZWZpbmUgRkxFWENBTl9NQ1JfSURBTV9B
CQkoMHgwIDw8IDgpDQpAQCAtMTM3LDYgKzEzOCwyOSBAQA0KIAkgRkxFWENBTl9FU1JfQk9GRl9J
TlQgfCBGTEVYQ0FOX0VTUl9FUlJfSU5UIHwgXA0KIAkgRkxFWENBTl9FU1JfV0FLX0lOVCkNCiAN
CisvKiBGTEVYQ0FOIENBTiBCaXQgVGltaW5nIFJlZ2lzdGVyIChDQlQpIGJpdHMgKi8NCisjZGVm
aW5lIEZMRVhDQU5fQ0JUX0JURgkJCUJJVCgzMSkNCisjZGVmaW5lIEZMRVhDQU5fQ0JUX0VQUkVT
RElWKHgpCQkoKCh4KSAmIDB4M2ZmKSA8PCAyMSkNCisjZGVmaW5lIEZMRVhDQU5fQ0JUX0VSSlco
eCkJCSgoKHgpICYgMHgwZikgPDwgMTYpDQorI2RlZmluZSBGTEVYQ0FOX0NCVF9FUFJPUFNFRyh4
KQkJKCgoeCkgJiAweDNmKSA8PCAxMCkNCisjZGVmaW5lIEZMRVhDQU5fQ0JUX0VQU0VHMSh4KQkJ
KCgoeCkgJiAweDFmKSA8PCA1KQ0KKyNkZWZpbmUgRkxFWENBTl9DQlRfRVBTRUcyKHgpCQkoKHgp
ICYgMHgxZikNCisNCisvKiBGTEVYQ0FOIENBTiBGRCBjb250cm9sIFJlZ2lzdGVyIChGRENUUkwp
IGJpdHMgKi8NCisjZGVmaW5lIEZMRVhDQU5fRkRDVFJMX0ZEUkFURQkJQklUKDMxKQ0KKyNkZWZp
bmUgRkxFWENBTl9GRENUUkxfTUJEU1IxKHgpCSgoKHgpICYgMHgwMykgPDwgMTkpDQorI2RlZmlu
ZSBGTEVYQ0FOX0ZEQ1RSTF9NQkRTUjAoeCkJKCgoeCkgJiAweDAzKSA8PCAxNikNCisjZGVmaW5l
IEZMRVhDQU5fRkRDVFJMX1REQ0VOCQlCSVQoMTUpDQorI2RlZmluZSBGTEVYQ0FOX0ZEQ1RSTF9U
RENGQUlMCQlCSVQoMTQpDQorI2RlZmluZSBGTEVYQ0FOX0ZEQ1RSTF9URENPRkYoeCkJKCgoeCkg
JiAweDFmKSA8PCA4KQ0KKw0KKy8qIEZMRVhDQU4gQ0FOIEZEIEJpdCBUaW1pbmcgUmVnaXN0ZXIg
KEZEQ0JUKSBiaXRzICovDQorI2RlZmluZSBGTEVYQ0FOX0ZEQ0JUX0ZQUkVTRElWKHgpCSgoKHgp
ICYgMHgzZmYpIDw8IDIwKQ0KKyNkZWZpbmUgRkxFWENBTl9GRENCVF9GUkpXKHgpCQkoKCh4KSAm
IDB4MDMpIDw8IDE2KQ0KKyNkZWZpbmUgRkxFWENBTl9GRENCVF9GUFJPUFNFRyh4KQkoKCh4KSAm
IDB4MWYpIDw8IDEwKQ0KKyNkZWZpbmUgRkxFWENBTl9GRENCVF9GUFNFRzEoeCkJCSgoKHgpICYg
MHgwNykgPDwgNSkNCisjZGVmaW5lIEZMRVhDQU5fRkRDQlRfRlBTRUcyKHgpCQkoKHgpICYgMHgw
NykNCisNCiAvKiBGTEVYQ0FOIGludGVycnVwdCBmbGFnIHJlZ2lzdGVyIChJRkxBRykgYml0cyAq
Lw0KIC8qIEVycmF0YSBFUlIwMDU4Mjkgc3RlcDc6IFJlc2VydmUgZmlyc3QgdmFsaWQgTUIgKi8N
CiAjZGVmaW5lIEZMRVhDQU5fVFhfTUJfUkVTRVJWRURfT0ZGX0ZJRk8JCTgNCkBAIC0xNjEsNiAr
MTg1LDkgQEANCiAjZGVmaW5lIEZMRVhDQU5fTUJfQ09ERV9UWF9EQVRBCQkoMHhjIDw8IDI0KQ0K
ICNkZWZpbmUgRkxFWENBTl9NQl9DT0RFX1RYX1RBTlNXRVIJKDB4ZSA8PCAyNCkNCiANCisjZGVm
aW5lIEZMRVhDQU5fTUJfQ05UX0VETAkJQklUKDMxKQ0KKyNkZWZpbmUgRkxFWENBTl9NQl9DTlRf
QlJTCQlCSVQoMzApDQorI2RlZmluZSBGTEVYQ0FOX01CX0NOVF9FU0kJCUJJVCgyOSkNCiAjZGVm
aW5lIEZMRVhDQU5fTUJfQ05UX1NSUgkJQklUKDIyKQ0KICNkZWZpbmUgRkxFWENBTl9NQl9DTlRf
SURFCQlCSVQoMjEpDQogI2RlZmluZSBGTEVYQ0FOX01CX0NOVF9SVFIJCUJJVCgyMCkNCkBAIC0x
NzIsMTUgKzE5OSwxNiBAQA0KIC8qIEZMRVhDQU4gaGFyZHdhcmUgZmVhdHVyZSBmbGFncw0KICAq
DQogICogQmVsb3cgaXMgc29tZSB2ZXJzaW9uIGluZm8gd2UgZ290Og0KLSAqICAgIFNPQyAgIFZl
cnNpb24gICBJUC1WZXJzaW9uICBHbGl0Y2gtIFtUUl1XUk5fSU5UIElSUSBFcnIgTWVtb3J5IGVy
ciBSVFIgcmUtDQotICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpbHRlcj8gY29u
bmVjdGVkPyAgUGFzc2l2ZSBkZXRlY3Rpb24gIGNlcHRpb24gaW4gTUINCi0gKiAgIE1YMjUgIEZs
ZXhDQU4yICAwMy4wMC4wMC4wMCAgICAgbm8gICAgICAgIG5vICAgICAgICBubyAgICAgICBubyAg
ICAgICAgbm8NCi0gKiAgIE1YMjggIEZsZXhDQU4yICAwMy4wMC4wNC4wMCAgICB5ZXMgICAgICAg
eWVzICAgICAgICBubyAgICAgICBubyAgICAgICAgbm8NCi0gKiAgIE1YMzUgIEZsZXhDQU4yICAw
My4wMC4wMC4wMCAgICAgbm8gICAgICAgIG5vICAgICAgICBubyAgICAgICBubyAgICAgICAgbm8N
Ci0gKiAgIE1YNTMgIEZsZXhDQU4yICAwMy4wMC4wMC4wMCAgICB5ZXMgICAgICAgIG5vICAgICAg
ICBubyAgICAgICBubyAgICAgICAgbm8NCi0gKiAgIE1YNnMgIEZsZXhDQU4zICAxMC4wMC4xMi4w
MCAgICB5ZXMgICAgICAgeWVzICAgICAgICBubyAgICAgICBubyAgICAgICB5ZXMNCi0gKiAgIFZG
NjEwIEZsZXhDQU4zICA/ICAgICAgICAgICAgICAgbm8gICAgICAgeWVzICAgICAgICBubyAgICAg
IHllcyAgICAgICB5ZXM/DQotICogTFMxMDIxQSBGbGV4Q0FOMiAgMDMuMDAuMDQuMDAgICAgIG5v
ICAgICAgIHllcyAgICAgICAgbm8gICAgICAgbm8gICAgICAgeWVzDQorICogICAgU09DICAgVmVy
c2lvbiAgIElQLVZlcnNpb24gIEdsaXRjaC0gW1RSXVdSTl9JTlQgSVJRIEVyciBNZW1vcnkgZXJy
IFJUUiByZWNlLSAgICAgRkQgTW9kZQ0KKyAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBGaWx0ZXI/IGNvbm5lY3RlZD8gIFBhc3NpdmUgZGV0ZWN0aW9uICBwdGlvbiBpbiBNQiAgIFN1
cHBvcnRlZD8NCisgKiAgIE1YMjUgIEZsZXhDQU4yICAwMy4wMC4wMC4wMCAgICAgbm8gICAgICAg
IG5vICAgICAgICBubyAgICAgICBubyAgICAgICAgbm8gICAgICAgICAgIG5vDQorICogICBNWDI4
ICBGbGV4Q0FOMiAgMDMuMDAuMDQuMDAgICAgeWVzICAgICAgIHllcyAgICAgICAgbm8gICAgICAg
bm8gICAgICAgIG5vICAgICAgICAgICBubw0KKyAqICAgTVgzNSAgRmxleENBTjIgIDAzLjAwLjAw
LjAwICAgICBubyAgICAgICAgbm8gICAgICAgIG5vICAgICAgIG5vICAgICAgICBubyAgICAgICAg
ICAgbm8NCisgKiAgIE1YNTMgIEZsZXhDQU4yICAwMy4wMC4wMC4wMCAgICB5ZXMgICAgICAgIG5v
ICAgICAgICBubyAgICAgICBubyAgICAgICAgbm8gICAgICAgICAgIG5vDQorICogICBNWDZzICBG
bGV4Q0FOMyAgMTAuMDAuMTIuMDAgICAgeWVzICAgICAgIHllcyAgICAgICAgbm8gICAgICAgbm8g
ICAgICAgeWVzICAgICAgICAgICBubw0KKyAqICAgVkY2MTAgRmxleENBTjMgID8gICAgICAgICAg
ICAgICBubyAgICAgICB5ZXMgICAgICAgIG5vICAgICAgeWVzICAgICAgIHllcz8gICAgICAgICAg
bm8NCisgKiBMUzEwMjFBIEZsZXhDQU4yICAwMy4wMC4wNC4wMCAgICAgbm8gICAgICAgeWVzICAg
ICAgICBubyAgICAgICBubyAgICAgICB5ZXMgICAgICAgICAgIG5vDQorICogTFgyMTYwQSBGbGV4
Q0FOMyAgMDMuMDAuMjMuMDAgICAgIG5vICAgICAgIHllcyAgICAgICAgbm8gICAgICAgbm8gICAg
ICAgeWVzICAgICAgICAgIHllcw0KICAqDQogICogU29tZSBTT0NzIGRvIG5vdCBoYXZlIHRoZSBS
WF9XQVJOICYgVFhfV0FSTiBpbnRlcnJ1cHQgbGluZSBjb25uZWN0ZWQuDQogICovDQpAQCAtMTky
LDYgKzIyMCw3IEBADQogI2RlZmluZSBGTEVYQ0FOX1FVSVJLX0JST0tFTl9QRVJSX1NUQVRFCUJJ
VCg2KSAvKiBObyBpbnRlcnJ1cHQgZm9yIGVycm9yIHBhc3NpdmUgKi8NCiAjZGVmaW5lIEZMRVhD
QU5fUVVJUktfREVGQVVMVF9CSUdfRU5ESUFOCUJJVCg3KSAvKiBkZWZhdWx0IHRvIEJFIHJlZ2lz
dGVyIGFjY2VzcyAqLw0KICNkZWZpbmUgRkxFWENBTl9RVUlSS19TRVRVUF9TVE9QX01PREUJCUJJ
VCg4KSAvKiBTZXR1cCBzdG9wIG1vZGUgdG8gc3VwcG9ydCB3YWtldXAgKi8NCisjZGVmaW5lIEZM
RVhDQU5fUVVJUktfVVNFX0ZECQlCSVQoOSkNCiANCiAvKiBTdHJ1Y3R1cmUgb2YgdGhlIG1lc3Nh
Z2UgYnVmZmVyICovDQogc3RydWN0IGZsZXhjYW5fbWIgew0KQEAgLTIyNSw3ICsyNTQsOCBAQCBz
dHJ1Y3QgZmxleGNhbl9yZWdzIHsNCiAJdTMyIGNyY3I7CQkvKiAweDQ0ICovDQogCXUzMiByeGZn
bWFzazsJCS8qIDB4NDggKi8NCiAJdTMyIHJ4ZmlyOwkJLyogMHg0YyAqLw0KLQl1MzIgX3Jlc2Vy
dmVkM1sxMl07CS8qIDB4NTAgKi8NCisJdTMyIGNidDsJCS8qIDB4NTAgKi8NCisJdTMyIF9yZXNl
cnZlZDNbMTFdOwkvKiAweDU0ICovDQogCXU4IG1iWzJdWzUxMl07CQkvKiAweDgwICovDQogCS8q
IEZJRk8tbW9kZToNCiAJICoJCQlNQg0KQEAgLTI1MCw2ICsyODAsMTAgQEAgc3RydWN0IGZsZXhj
YW5fcmVncyB7DQogCXUzMiByZXJyZHI7CQkvKiAweGFmNCAqLw0KIAl1MzIgcmVycnN5bnI7CQkv
KiAweGFmOCAqLw0KIAl1MzIgZXJyc3I7CQkvKiAweGFmYyAqLw0KKwl1MzIgX3Jlc2VydmVkN1s2
NF07CS8qIDB4YjAwICovDQorCXUzMiBmZGN0cmw7CQkvKiAweGMwMCAqLw0KKwl1MzIgZmRjYnQ7
CQkvKiAweGMwNCAqLw0KKwl1MzIgZmRjcmM7CQkvKiAweGMwOCAqLw0KIH07DQogDQogc3RydWN0
IGZsZXhjYW5fZGV2dHlwZV9kYXRhIHsNCkBAIC0zMjQsNiArMzU4LDEyIEBAIHN0YXRpYyBjb25z
dCBzdHJ1Y3QgZmxleGNhbl9kZXZ0eXBlX2RhdGEgZnNsX2xzMTAyMWFfcjJfZGV2dHlwZV9kYXRh
ID0gew0KIAkJRkxFWENBTl9RVUlSS19VU0VfT0ZGX1RJTUVTVEFNUCwNCiB9Ow0KIA0KK3N0YXRp
YyBjb25zdCBzdHJ1Y3QgZmxleGNhbl9kZXZ0eXBlX2RhdGEgZnNsX2x4MjE2MGFfcjFfZGV2dHlw
ZV9kYXRhID0gew0KKwkucXVpcmtzID0gRkxFWENBTl9RVUlSS19ESVNBQkxFX1JYRkcgfCBGTEVY
Q0FOX1FVSVJLX0VOQUJMRV9FQUNFTl9SUlMgfA0KKwkJRkxFWENBTl9RVUlSS19ESVNBQkxFX01F
Q1IgfCBGTEVYQ0FOX1FVSVJLX0JST0tFTl9QRVJSX1NUQVRFIHwNCisJCUZMRVhDQU5fUVVJUktf
VVNFX09GRl9USU1FU1RBTVAgfCBGTEVYQ0FOX1FVSVJLX1VTRV9GRCwNCit9Ow0KKw0KIHN0YXRp
YyBjb25zdCBzdHJ1Y3QgY2FuX2JpdHRpbWluZ19jb25zdCBmbGV4Y2FuX2JpdHRpbWluZ19jb25z
dCA9IHsNCiAJLm5hbWUgPSBEUlZfTkFNRSwNCiAJLnRzZWcxX21pbiA9IDQsDQpAQCAtMzM2LDYg
KzM3NiwzMCBAQCBzdGF0aWMgY29uc3Qgc3RydWN0IGNhbl9iaXR0aW1pbmdfY29uc3QgZmxleGNh
bl9iaXR0aW1pbmdfY29uc3QgPSB7DQogCS5icnBfaW5jID0gMSwNCiB9Ow0KIA0KK3N0YXRpYyBj
b25zdCBzdHJ1Y3QgY2FuX2JpdHRpbWluZ19jb25zdCBleHRlbmRlZF9mbGV4Y2FuX2JpdHRpbWlu
Z19jb25zdCA9IHsNCisJLm5hbWUgPSBEUlZfTkFNRSwNCisJLnRzZWcxX21pbiA9IDIsDQorCS50
c2VnMV9tYXggPSA5NiwNCisJLnRzZWcyX21pbiA9IDIsDQorCS50c2VnMl9tYXggPSAzMiwNCisJ
LnNqd19tYXggPSAxNiwNCisJLmJycF9taW4gPSAxLA0KKwkuYnJwX21heCA9IDEwMjQsDQorCS5i
cnBfaW5jID0gMSwNCit9Ow0KKw0KK3N0YXRpYyBjb25zdCBzdHJ1Y3QgY2FuX2JpdHRpbWluZ19j
b25zdCBmbGV4Y2FuX2RhdGFfYml0dGltaW5nX2NvbnN0ID0gew0KKwkubmFtZSA9IERSVl9OQU1F
LA0KKwkudHNlZzFfbWluID0gMiwNCisJLnRzZWcxX21heCA9IDM5LA0KKwkudHNlZzJfbWluID0g
MiwNCisJLnRzZWcyX21heCA9IDgsDQorCS5zandfbWF4ID0gNCwNCisJLmJycF9taW4gPSAxLA0K
KwkuYnJwX21heCA9IDEwMjQsDQorCS5icnBfaW5jID0gMSwNCit9Ow0KKw0KIC8qIEZsZXhDQU4g
bW9kdWxlIGlzIGVzc2VudGlhbGx5IG1vZGVsbGVkIGFzIGEgbGl0dGxlLWVuZGlhbiBJUCBpbiBt
b3N0DQogICogU29DcywgaS5lIHRoZSByZWdpc3RlcnMgYXMgd2VsbCBhcyB0aGUgbWVzc2FnZSBi
dWZmZXIgYXJlYXMgYXJlDQogICogaW1wbGVtZW50ZWQgaW4gYSBsaXR0bGUtZW5kaWFuIGZhc2hp
b24uDQpAQCAtNjI2LDggKzY5MCwxNiBAQCBzdGF0aWMgbmV0ZGV2X3R4X3QgZmxleGNhbl9zdGFy
dF94bWl0KHN0cnVjdCBza19idWZmICpza2IsIHN0cnVjdCBuZXRfZGV2aWNlICpkZQ0KIAkJY2Fu
X2lkID0gKGNmZC0+Y2FuX2lkICYgQ0FOX1NGRl9NQVNLKSA8PCAxODsNCiAJfQ0KIA0KLQlpZiAo
IWNhbl9pc19jYW5mZF9za2Ioc2tiKSAmJiAoY2ZkLT5jYW5faWQgJiBDQU5fUlRSX0ZMQUcpKQ0K
LQkJY3RybCB8PSBGTEVYQ0FOX01CX0NOVF9SVFI7DQorCWlmIChjYW5faXNfY2FuZmRfc2tiKHNr
YikpIHsNCisJCWN0cmwgfD0gRkxFWENBTl9NQl9DTlRfRURMOw0KKwkJaWYgKGNmZC0+ZmxhZ3Mg
JiBDQU5GRF9CUlMpDQorCQkJY3RybCB8PSBGTEVYQ0FOX01CX0NOVF9CUlM7DQorCQlpZiAoY2Zk
LT5mbGFncyAmIENBTkZEX0VTSSkNCisJCQljdHJsIHw9IEZMRVhDQU5fTUJfQ05UX0VTSTsNCisJ
fSBlbHNlIHsNCisJCWlmIChjZmQtPmNhbl9pZCAmIENBTl9SVFJfRkxBRykNCisJCQljdHJsIHw9
IEZMRVhDQU5fTUJfQ05UX1JUUjsNCisJfQ0KIA0KIAlmb3IgKGkgPSAwOyBpIDwgY2FuX2xlbjJk
bGMoY2ZkLT5sZW4pOyBpICs9IHNpemVvZih1MzIpKSB7DQogCQlkYXRhID0gYmUzMl90b19jcHVw
KChfX2JlMzIgKikmY2ZkLT5kYXRhW2ldKTsNCkBAIC05ODEsMzYgKzEwNTMsMTMxIEBAIHN0YXRp
YyBpcnFyZXR1cm5fdCBmbGV4Y2FuX2lycShpbnQgaXJxLCB2b2lkICpkZXZfaWQpDQogDQogc3Rh
dGljIHZvaWQgZmxleGNhbl9zZXRfYml0dGltaW5nKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYpDQog
ew0KLQljb25zdCBzdHJ1Y3QgZmxleGNhbl9wcml2ICpwcml2ID0gbmV0ZGV2X3ByaXYoZGV2KTsN
Ci0JY29uc3Qgc3RydWN0IGNhbl9iaXR0aW1pbmcgKmJ0ID0gJnByaXYtPmNhbi5iaXR0aW1pbmc7
DQorCXN0cnVjdCBmbGV4Y2FuX3ByaXYgKnByaXYgPSBuZXRkZXZfcHJpdihkZXYpOw0KKwlzdHJ1
Y3QgY2FuX2JpdHRpbWluZyAqYnQgPSAmcHJpdi0+Y2FuLmJpdHRpbWluZzsNCisJc3RydWN0IGNh
bl9iaXR0aW1pbmcgKmRhdGFfYnQgPSAmcHJpdi0+Y2FuLmRhdGFfYml0dGltaW5nOw0KIAlzdHJ1
Y3QgZmxleGNhbl9yZWdzIF9faW9tZW0gKnJlZ3MgPSBwcml2LT5yZWdzOw0KLQl1MzIgcmVnOw0K
Kwl1MzIgcmVnX2N0cmwsIHJlZ19tY3IsIHJlZ19jYnQsIHJlZ19mZGNidCwgcmVnX2ZkY3RybDsN
CiANCi0JcmVnID0gcHJpdi0+cmVhZCgmcmVncy0+Y3RybCk7DQotCXJlZyAmPSB+KEZMRVhDQU5f
Q1RSTF9QUkVTRElWKDB4ZmYpIHwNCi0JCSBGTEVYQ0FOX0NUUkxfUkpXKDB4MykgfA0KLQkJIEZM
RVhDQU5fQ1RSTF9QU0VHMSgweDcpIHwNCi0JCSBGTEVYQ0FOX0NUUkxfUFNFRzIoMHg3KSB8DQot
CQkgRkxFWENBTl9DVFJMX1BST1BTRUcoMHg3KSB8DQotCQkgRkxFWENBTl9DVFJMX0xQQiB8DQot
CQkgRkxFWENBTl9DVFJMX1NNUCB8DQotCQkgRkxFWENBTl9DVFJMX0xPTSk7DQotDQotCXJlZyB8
PSBGTEVYQ0FOX0NUUkxfUFJFU0RJVihidC0+YnJwIC0gMSkgfA0KLQkJRkxFWENBTl9DVFJMX1BT
RUcxKGJ0LT5waGFzZV9zZWcxIC0gMSkgfA0KLQkJRkxFWENBTl9DVFJMX1BTRUcyKGJ0LT5waGFz
ZV9zZWcyIC0gMSkgfA0KLQkJRkxFWENBTl9DVFJMX1JKVyhidC0+c2p3IC0gMSkgfA0KLQkJRkxF
WENBTl9DVFJMX1BST1BTRUcoYnQtPnByb3Bfc2VnIC0gMSk7DQorCXJlZ19tY3IgPSBwcml2LT5y
ZWFkKCZyZWdzLT5tY3IpOw0KKwlyZWdfY3RybCA9IHByaXYtPnJlYWQoJnJlZ3MtPmN0cmwpOw0K
Kw0KKwlyZWdfY3RybCAmPSB+KEZMRVhDQU5fQ1RSTF9MUEIgfA0KKwkJICAgICAgRkxFWENBTl9D
VFJMX1NNUCB8DQorCQkgICAgICBGTEVYQ0FOX0NUUkxfTE9NKTsNCiANCiAJaWYgKHByaXYtPmNh
bi5jdHJsbW9kZSAmIENBTl9DVFJMTU9ERV9MT09QQkFDSykNCi0JCXJlZyB8PSBGTEVYQ0FOX0NU
UkxfTFBCOw0KKwkJcmVnX2N0cmwgfD0gRkxFWENBTl9DVFJMX0xQQjsNCiAJaWYgKHByaXYtPmNh
bi5jdHJsbW9kZSAmIENBTl9DVFJMTU9ERV9MSVNURU5PTkxZKQ0KLQkJcmVnIHw9IEZMRVhDQU5f
Q1RSTF9MT007DQorCQlyZWdfY3RybCB8PSBGTEVYQ0FOX0NUUkxfTE9NOw0KIAlpZiAocHJpdi0+
Y2FuLmN0cmxtb2RlICYgQ0FOX0NUUkxNT0RFXzNfU0FNUExFUykNCi0JCXJlZyB8PSBGTEVYQ0FO
X0NUUkxfU01QOw0KKwkJcmVnX2N0cmwgfD0gRkxFWENBTl9DVFJMX1NNUDsNCisNCisJaWYgKHJl
Z19tY3IgJiBGTEVYQ0FOX01DUl9GREVOKSB7DQorCQlyZWdfY2J0ID0gcHJpdi0+cmVhZCgmcmVn
cy0+Y2J0KTsNCisJCXJlZ19mZGNidCA9IHByaXYtPnJlYWQoJnJlZ3MtPmZkY2J0KTsNCisJCXJl
Z19mZGN0cmwgPSBwcml2LT5yZWFkKCZyZWdzLT5mZGN0cmwpOw0KKw0KKwkJcmVnX2NidCB8PSBG
TEVYQ0FOX0NCVF9CVEY7DQorCQlyZWdfY2J0ICY9IH4oRkxFWENBTl9DQlRfRVBSRVNESVYoMHgz
ZmYpIHwNCisJCQkgICAgIEZMRVhDQU5fQ0JUX0VSSlcoMHgwZikgfA0KKwkJCSAgICAgRkxFWENB
Tl9DQlRfRVBST1BTRUcoMHgzZikgfA0KKwkJCSAgICAgRkxFWENBTl9DQlRfRVBTRUcxKDB4MWYp
IHwNCisJCQkgICAgIEZMRVhDQU5fQ0JUX0VQU0VHMigweDFmKSk7DQorDQorCQkvKiBDQlRbRVBT
RUcxXSBpcyA1IGJpdCBsb25nIGFuZCBDQlRbRVBST1BTRUddIGlzIDYgYml0IGxvbmcuDQorCQkg
KiBUaGUgY2FuX2NhbGNfYml0dGltaW5nIHRyaWVzIHRvIGRpdmlkZSB0aGUgdHNlZzEgZXF1YWxs
eQ0KKwkJICogYmV0d2VlbiBwaGFzZV9zZWcxIGFuZCBwcm9wX3NlZywgd2hpY2ggbWF5IG5vdCBm
aXQgaW4gQ0JUDQorCQkgKiByZWdpc3Rlci4gVGhlcmVmb3JlLCBpZiBwaGFzZV9zZWcxIGlzIG1v
cmUgdGhhbiBwb3NzaWJsZQ0KKwkJICogdmFsdWUsIGluY3JlYXNlIHByb3Bfc2VnIGFuZCBkZWNy
ZWFzZSBwaGFzZV9zZWcxDQorCQkgKi8NCisJCWlmIChidC0+cGhhc2Vfc2VnMSA+IDB4MjApIHsN
CisJCQlidC0+cHJvcF9zZWcgKz0gKGJ0LT5waGFzZV9zZWcxIC0gMHgyMCk7DQorCQkJYnQtPnBo
YXNlX3NlZzEgPSAweDIwOw0KKwkJfQ0KIA0KLQluZXRkZXZfZGJnKGRldiwgIndyaXRpbmcgY3Ry
bD0weCUwOHhcbiIsIHJlZyk7DQotCXByaXYtPndyaXRlKHJlZywgJnJlZ3MtPmN0cmwpOw0KKwkJ
cmVnX2NidCB8PSBGTEVYQ0FOX0NCVF9FUFJFU0RJVihidC0+YnJwIC0gMSkgfA0KKwkJCSAgIEZM
RVhDQU5fQ0JUX0VSSlcoYnQtPnNqdyAtIDEpIHwNCisJCQkgICBGTEVYQ0FOX0NCVF9FUFJPUFNF
RyhidC0+cHJvcF9zZWcgLSAxKSB8DQorCQkJICAgRkxFWENBTl9DQlRfRVBTRUcxKGJ0LT5waGFz
ZV9zZWcxIC0gMSkgfA0KKwkJCSAgIEZMRVhDQU5fQ0JUX0VQU0VHMihidC0+cGhhc2Vfc2VnMiAt
IDEpOw0KKw0KKwkJcmVnX2ZkY2J0ICY9IH4oRkxFWENBTl9GRENCVF9GUFJFU0RJVigweDNmZikg
fA0KKwkJCSAgICAgICBGTEVYQ0FOX0ZEQ0JUX0ZSSlcoMHgwMykgfA0KKwkJCSAgICAgICBGTEVY
Q0FOX0NCVF9FUFJPUFNFRygweDFmKSB8DQorCQkJICAgICAgIEZMRVhDQU5fRkRDQlRfRlBTRUcx
KDB4MDcpIHwNCisJCQkgICAgICAgRkxFWENBTl9GRENCVF9GUFNFRzIoMHgwNykpOw0KKw0KKwkJ
LyogRkRDQlRbRlBTRUcxXSBpcyAzIGJpdCBsb25nIGFuZCBGRENCVFtGUFJPUFNFR10gaXMgNSBi
aXQgbG9uZy4NCisJCSAqIFRoZSBjYW5fY2FsY19iaXR0aW1pbmcgdHJpZXMgdG8gZGl2aWRlIHRo
ZSB0c2VnMSBlcXVhbGx5DQorCQkgKiBiZXR3ZWVuIHBoYXNlX3NlZzEgYW5kIHByb3Bfc2VnLCB3
aGljaCBtYXkgbm90IGZpdCBpbiBGRENCVA0KKwkJICogcmVnaXN0ZXIuIFRoZXJlZm9yZSwgaWYg
cGhhc2Vfc2VnMSBpcyBtb3JlIHRoYW4gcG9zc2libGUNCisJCSAqIHZhbHVlLCBpbmNyZWFzZSBw
cm9wX3NlZyBhbmQgZGVjcmVhc2UgcGhhc2Vfc2VnMQ0KKwkJICovDQorCQlpZiAoZGF0YV9idC0+
cGhhc2Vfc2VnMSA+IDB4OCkgew0KKwkJCWRhdGFfYnQtPnByb3Bfc2VnICs9IChkYXRhX2J0LT5w
aGFzZV9zZWcxIC0gMHg4KTsNCisJCQlkYXRhX2J0LT5waGFzZV9zZWcxID0gMHg4Ow0KKwkJfQ0K
Kw0KKwkJcmVnX2ZkY2J0IHw9IEZMRVhDQU5fRkRDQlRfRlBSRVNESVYoZGF0YV9idC0+YnJwIC0g
MSkgfA0KKwkJCSAgICAgRkxFWENBTl9GRENCVF9GUkpXKGRhdGFfYnQtPnNqdyAtIDEpIHwNCisJ
CQkgICAgIEZMRVhDQU5fRkRDQlRfRlBST1BTRUcoZGF0YV9idC0+cHJvcF9zZWcpIHwNCisJCQkg
ICAgIEZMRVhDQU5fRkRDQlRfRlBTRUcxKGRhdGFfYnQtPnBoYXNlX3NlZzEgLSAxKSB8DQorCQkJ
ICAgICBGTEVYQ0FOX0ZEQ0JUX0ZQU0VHMihkYXRhX2J0LT5waGFzZV9zZWcyIC0gMSk7DQorDQor
CQlpZiAocHJpdi0+Y2FuLmN0cmxtb2RlICYgQ0FOX0NUUkxNT0RFX0ZEKSB7DQorCQkJdTMyIHRk
Y29mZjsNCisJCQkvKiBObyBUREMgaXMgbmVlZGVkIGZvciBkYXRhIGJpdCByYXRlcyB1cCB0byAy
LjUgTUJpdC9zDQorCQkJICogcmVmZXIgaHR0cHM6Ly93d3cuY2FuLWNpYS5vcmcvZmlsZWFkbWlu
L3Jlc291cmNlcy9kb2N1bWVudHMvcHJvY2VlZGluZ3MvMjAxM19oYXJ0d2ljaF92Mi5wZGYNCisJ
CQkgKi8NCisJCQlpZiAocmVnX2N0cmwgJiBGTEVYQ0FOX0NUUkxfTFBCIHx8DQorCQkJICAgIGRh
dGFfYnQtPmJpdHJhdGUgPD0gMjUwMDAwMCkNCisJCQkJcmVnX2ZkY3RybCAmPSB+RkxFWENBTl9G
RENUUkxfVERDRU47DQorCQkJZWxzZQ0KKwkJCQlyZWdfZmRjdHJsIHw9IEZMRVhDQU5fRkRDVFJM
X1REQ0VOOw0KKw0KKwkJCXJlZ19mZGN0cmwgfD0gKEZMRVhDQU5fRkRDVFJMX0ZEUkFURSB8DQor
CQkJCSAgICAgICBGTEVYQ0FOX0ZEQ1RSTF9URENGQUlMKTsNCisNCisJCQkvKiBvZmZzZXQgc2hv
dWxkIGJlIHdpdGhpbiB0aGUgY2FuIEZEIGJpdCB0aW1pbmdzICovDQorCQkJdGRjb2ZmID0gKGRh
dGFfYnQtPnBoYXNlX3NlZzEgKyBkYXRhX2J0LT5wcm9wX3NlZykgKg0KKwkJCQkgIGRhdGFfYnQt
PmJycDsNCisNCisJCQlyZWdfZmRjdHJsIHw9IEZMRVhDQU5fRkRDVFJMX1REQ09GRih0ZGNvZmYp
Ow0KKwkJCXJlZ19mZGN0cmwgfD0gRkxFWENBTl9GRENUUkxfTUJEU1IwKDMpIHwNCisJCQkJICAg
ICAgRkxFWENBTl9GRENUUkxfTUJEU1IxKDMpOw0KKw0KKwkJCWlmIChkYXRhX2J0LT5icnAgIT0g
YnQtPmJycCkNCisJCQkJbmV0ZGV2X3dhcm4oZGV2LCAiV2FybmluZyEhIGRhdGEgYnJwID0gJWQg
YW5kIGJycCA9ICVkIGRvbid0IG1hdGNoLlxuIg0KKwkJCQkJICAgICJmbGV4Y2FuIG1heSBub3Qg
d29yay4gY29uc2lkZXIgdXNpbmcgZGlmZmVyZW50IGJpdHJhdGUgb3IgZGF0YSBiaXRyYXRlXG4i
LA0KKwkJCQkJICAgIGRhdGFfYnQtPmJycCwgYnQtPmJycCk7DQorCQl9IGVsc2Ugew0KKwkJCXJl
Z19mZGN0cmwgfD0gRkxFWENBTl9GRENUUkxfTUJEU1IwKDApIHwNCisJCQkJICAgICAgRkxFWENB
Tl9GRENUUkxfTUJEU1IxKDApOw0KKwkJCXJlZ19mZGN0cmwgJj0gfkZMRVhDQU5fRkRDVFJMX0ZE
UkFURTsNCisJCX0NCisJCW5ldGRldl9kYmcoZGV2LCAid3JpdGluZyBmZGN0cmw9MHglMDh4Iiwg
cmVnX2ZkY3RybCk7DQorCQluZXRkZXZfZGJnKGRldiwgIndyaXRpbmcgY2J0PTB4JTA4eFxuIiwg
cmVnX2NidCk7DQorCQluZXRkZXZfZGJnKGRldiwgIndyaXRpbmcgZmRjYnQ9MHglMDh4XG4iLCBy
ZWdfZmRjYnQpOw0KKwkJcHJpdi0+d3JpdGUocmVnX2ZkY3RybCwgJnJlZ3MtPmZkY3RybCk7DQor
CQlwcml2LT53cml0ZShyZWdfY2J0LCAmcmVncy0+Y2J0KTsNCisJCXByaXYtPndyaXRlKHJlZ19m
ZGNidCwgJnJlZ3MtPmZkY2J0KTsNCisJfSBlbHNlIHsNCisJCXJlZ19jdHJsICY9IH4oRkxFWENB
Tl9DVFJMX1BSRVNESVYoMHhmZikgfA0KKwkJCUZMRVhDQU5fQ1RSTF9SSlcoMHgzKSB8DQorCQkJ
RkxFWENBTl9DVFJMX1BTRUcxKDB4NykgfA0KKwkJCUZMRVhDQU5fQ1RSTF9QU0VHMigweDcpIHwN
CisJCQlGTEVYQ0FOX0NUUkxfUFJPUFNFRygweDcpKTsNCisNCisJCXJlZ19jdHJsIHw9IEZMRVhD
QU5fQ1RSTF9QUkVTRElWKGJ0LT5icnAgLSAxKSB8DQorCQkJRkxFWENBTl9DVFJMX1BTRUcxKGJ0
LT5waGFzZV9zZWcxIC0gMSkgfA0KKwkJCUZMRVhDQU5fQ1RSTF9QU0VHMihidC0+cGhhc2Vfc2Vn
MiAtIDEpIHwNCisJCQlGTEVYQ0FOX0NUUkxfUkpXKGJ0LT5zancgLSAxKSB8DQorCQkJRkxFWENB
Tl9DVFJMX1BST1BTRUcoYnQtPnByb3Bfc2VnIC0gMSk7DQorCX0NCisNCisJbmV0ZGV2X2RiZyhk
ZXYsICJ3cml0aW5nIGN0cmw9MHglMDh4XG4iLCByZWdfY3RybCk7DQorCXByaXYtPndyaXRlKHJl
Z19jdHJsLCAmcmVncy0+Y3RybCk7DQogDQogCS8qIHByaW50IGNoaXAgc3RhdHVzICovDQogCW5l
dGRldl9kYmcoZGV2LCAiJXM6IG1jcj0weCUwOHggY3RybD0weCUwOHhcbiIsIF9fZnVuY19fLA0K
QEAgLTEwNDksNiArMTIxNiw3IEBAIHN0YXRpYyBpbnQgZmxleGNhbl9jaGlwX3N0YXJ0KHN0cnVj
dCBuZXRfZGV2aWNlICpkZXYpDQogCSAqIGVuYWJsZSBpbmRpdmlkdWFsIFJYIG1hc2tpbmcNCiAJ
ICogY2hvb3NlIGZvcm1hdCBDDQogCSAqIHNldCBtYXggbWFpbGJveCBudW1iZXINCisJICogZW5h
YmxlIEZEIG1vZGUNCiAJICovDQogCXJlZ19tY3IgPSBwcml2LT5yZWFkKCZyZWdzLT5tY3IpOw0K
IAlyZWdfbWNyICY9IH5GTEVYQ0FOX01DUl9NQVhNQigweGZmKTsNCkBAIC0xMDgzLDYgKzEyNTEs
OCBAQCBzdGF0aWMgaW50IGZsZXhjYW5fY2hpcF9zdGFydChzdHJ1Y3QgbmV0X2RldmljZSAqZGV2
KQ0KIAkJcmVnX21jciAmPSB+RkxFWENBTl9NQ1JfU1JYX0RJUzsNCiAJZWxzZQ0KIAkJcmVnX21j
ciB8PSBGTEVYQ0FOX01DUl9TUlhfRElTOw0KKwlpZiAocHJpdi0+ZGV2dHlwZV9kYXRhLT5xdWly
a3MgJiBGTEVYQ0FOX1FVSVJLX1VTRV9GRCkNCisJCXJlZ19tY3IgfD0gRkxFWENBTl9NQ1JfRkRF
TjsNCiANCiAJbmV0ZGV2X2RiZyhkZXYsICIlczogd3JpdGluZyBtY3I9MHglMDh4IiwgX19mdW5j
X18sIHJlZ19tY3IpOw0KIAlwcml2LT53cml0ZShyZWdfbWNyLCAmcmVncy0+bWNyKTsNCkBAIC0x
MjU3LDcgKzE0MjcsMTQgQEAgc3RhdGljIGludCBmbGV4Y2FuX29wZW4oc3RydWN0IG5ldF9kZXZp
Y2UgKmRldikNCiAJaWYgKGVycikNCiAJCWdvdG8gb3V0X2Nsb3NlOw0KIA0KLQlwcml2LT5tYl9z
aXplID0gc2l6ZW9mKHN0cnVjdCBmbGV4Y2FuX21iKSArIENBTl9NQVhfRExFTjsNCisJaWYgKHBy
aXYtPmNhbi5jdHJsbW9kZSAmIENBTl9DVFJMTU9ERV9GRCkgew0KKwkJcHJpdi0+b2ZmbG9hZC5m
ZF9lbmFibGUgPSB0cnVlOw0KKwkJcHJpdi0+bWJfc2l6ZSA9IHNpemVvZihzdHJ1Y3QgZmxleGNh
bl9tYikgKyBDQU5GRF9NQVhfRExFTjsNCisJfSBlbHNlIHsNCisJCXByaXYtPm9mZmxvYWQuZmRf
ZW5hYmxlID0gZmFsc2U7DQorCQlwcml2LT5tYl9zaXplID0gc2l6ZW9mKHN0cnVjdCBmbGV4Y2Fu
X21iKSArIENBTl9NQVhfRExFTjsNCisJfQ0KKw0KIAlwcml2LT5tYl9jb3VudCA9IChzaXplb2Yo
cHJpdi0+cmVncy0+bWJbMF0pIC8gcHJpdi0+bWJfc2l6ZSkgKw0KIAkJCSAoc2l6ZW9mKHByaXYt
PnJlZ3MtPm1iWzFdKSAvIHByaXYtPm1iX3NpemUpOw0KIA0KQEAgLTEyNzIsNyArMTQ0OSw2IEBA
IHN0YXRpYyBpbnQgZmxleGNhbl9vcGVuKHN0cnVjdCBuZXRfZGV2aWNlICpkZXYpDQogDQogCXBy
aXYtPnJlZ19pbWFza19kZWZhdWx0ID0gRkxFWENBTl9JRkxBR19NQihwcml2LT50eF9tYl9pZHgp
Ow0KIA0KLQlwcml2LT5vZmZsb2FkLmZkX2VuYWJsZSA9IGZhbHNlOw0KIAlwcml2LT5vZmZsb2Fk
Lm1haWxib3hfcmVhZCA9IGZsZXhjYW5fbWFpbGJveF9yZWFkOw0KIA0KIAlpZiAocHJpdi0+ZGV2
dHlwZV9kYXRhLT5xdWlya3MgJiBGTEVYQ0FOX1FVSVJLX1VTRV9PRkZfVElNRVNUQU1QKSB7DQpA
QCAtMTQ5NSw2ICsxNjcxLDcgQEAgc3RhdGljIGNvbnN0IHN0cnVjdCBvZl9kZXZpY2VfaWQgZmxl
eGNhbl9vZl9tYXRjaFtdID0gew0KIAl7IC5jb21wYXRpYmxlID0gImZzbCxwMTAxMC1mbGV4Y2Fu
IiwgLmRhdGEgPSAmZnNsX3AxMDEwX2RldnR5cGVfZGF0YSwgfSwNCiAJeyAuY29tcGF0aWJsZSA9
ICJmc2wsdmY2MTAtZmxleGNhbiIsIC5kYXRhID0gJmZzbF92ZjYxMF9kZXZ0eXBlX2RhdGEsIH0s
DQogCXsgLmNvbXBhdGlibGUgPSAiZnNsLGxzMTAyMWFyMi1mbGV4Y2FuIiwgLmRhdGEgPSAmZnNs
X2xzMTAyMWFfcjJfZGV2dHlwZV9kYXRhLCB9LA0KKwl7IC5jb21wYXRpYmxlID0gImZzbCxseDIx
NjBhcjEtZmxleGNhbiIsIC5kYXRhID0gJmZzbF9seDIxNjBhX3IxX2RldnR5cGVfZGF0YSwgfSwN
CiAJeyAvKiBzZW50aW5lbCAqLyB9LA0KIH07DQogTU9EVUxFX0RFVklDRV9UQUJMRShvZiwgZmxl
eGNhbl9vZl9tYXRjaCk7DQpAQCAtMTU4OCw2ICsxNzY1LDEzIEBAIHN0YXRpYyBpbnQgZmxleGNh
bl9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpwZGV2KQ0KIAkJcHJpdi0+d3JpdGUgPSBm
bGV4Y2FuX3dyaXRlX2xlOw0KIAl9DQogDQorCWlmICgoZGV2dHlwZV9kYXRhLT5xdWlya3MgJiBG
TEVYQ0FOX1FVSVJLX1VTRV9GRCkgJiYNCisJICAgICEoZGV2dHlwZV9kYXRhLT5xdWlya3MgJiBG
TEVYQ0FOX1FVSVJLX1VTRV9PRkZfVElNRVNUQU1QKSkgew0KKwkJZGV2X2VycigmcGRldi0+ZGV2
LCAiY2FuJ3QgdXNlIEZJRk8gd2l0aCBGRCBtb2RlXG4iKTsNCisJCWVyciA9IC1FTk9ERVY7DQor
CQlnb3RvIGZhaWxlZF9yZWdpc3RlcjsNCisJfQ0KKw0KIAlwcml2LT5kZXYgPSAmcGRldi0+ZGV2
Ow0KIAlwcml2LT5jYW4uY2xvY2suZnJlcSA9IGNsb2NrX2ZyZXE7DQogCXByaXYtPmNhbi5iaXR0
aW1pbmdfY29uc3QgPSAmZmxleGNhbl9iaXR0aW1pbmdfY29uc3Q7DQpAQCAtMTYwMyw2ICsxNzg3
LDEyIEBAIHN0YXRpYyBpbnQgZmxleGNhbl9wcm9iZShzdHJ1Y3QgcGxhdGZvcm1fZGV2aWNlICpw
ZGV2KQ0KIAlwcml2LT5kZXZ0eXBlX2RhdGEgPSBkZXZ0eXBlX2RhdGE7DQogCXByaXYtPnJlZ194
Y2VpdmVyID0gcmVnX3hjZWl2ZXI7DQogDQorCWlmIChwcml2LT5kZXZ0eXBlX2RhdGEtPnF1aXJr
cyAmIEZMRVhDQU5fUVVJUktfVVNFX0ZEKSB7DQorCQlwcml2LT5jYW4uYml0dGltaW5nX2NvbnN0
ID0gJmV4dGVuZGVkX2ZsZXhjYW5fYml0dGltaW5nX2NvbnN0Ow0KKwkJcHJpdi0+Y2FuLmN0cmxt
b2RlX3N1cHBvcnRlZCB8PSBDQU5fQ1RSTE1PREVfRkQ7DQorCQlwcml2LT5jYW4uZGF0YV9iaXR0
aW1pbmdfY29uc3QgPSAmZmxleGNhbl9kYXRhX2JpdHRpbWluZ19jb25zdDsNCisJfQ0KKw0KIAlw
bV9ydW50aW1lX2dldF9ub3Jlc3VtZSgmcGRldi0+ZGV2KTsNCiAJcG1fcnVudGltZV9zZXRfYWN0
aXZlKCZwZGV2LT5kZXYpOw0KIAlwbV9ydW50aW1lX2VuYWJsZSgmcGRldi0+ZGV2KTsNCi0tIA0K
Mi4xNy4xDQoNCg==
